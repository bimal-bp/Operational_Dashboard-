<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SGX Operations Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* All your CSS styles remain exactly the same */
        :root {
            --bg: #f8fafc;
            --card: #ffffff;
            --card-hover: #f1f5f9;
            --text: #1e293b;
            --text-light: #64748b;
            --border: #e2e8f0;
            --primary: #3b82f6;
            --primary-light: #60a5fa;
            --success: #10b981;
            --success-light: #34d399;
            --warning: #f59e0b;
            --warning-light: #fbbf24;
            --purple: #8b5cf6;
            --purple-light: #a78bfa;
            --danger: #ef4444;
            --danger-light: #f87171;
            --orange: #f97316;
            --orange-light: #fb923c;
            --teal: #14b8a6;
            --teal-light: #2dd4bf;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            --shadow-hover: 0 8px 15px rgba(0, 0, 0, 0.1);
        }
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            height: 100vh;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            color: var(--text);
            font-family: 'Inter', sans-serif;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }
        .title-bar {
            background: #4a6491;
            color: white;
            padding: 16px 24px;
            font-size: 1.7rem;
            font-weight: 700;
            text-align: center;
            box-shadow: 0 4px 20px rgba(74, 100, 145, 0.5);
            position: relative;
            z-index: 10;
        }
        .title-bar i { margin-right: 10px; }
        .title-bar .date-display {
            font-size: 1rem;
            font-weight: 500;
            margin-top: 5px;
            opacity: 0.9;
        }
        .container {
            flex: 1;
            padding: 20px;
            display: grid;
            grid-template-rows: auto 1fr;
            gap: 18px;
            overflow: hidden;
        }
        .card {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px;
            transition: all 0.25s ease;
            box-shadow: var(--shadow);
        }
        .card:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-hover);
            transform: translateY(-2px);
            background: var(--card-hover);
        }
        /* Machines */
        .machines {
            display: grid;
            grid-template-columns: repeat(4,1fr);
            gap: 16px;
        }
        .mach-box {
            border-top: 6px solid;
            text-align: center;
            padding: 16px 8px;
            position: relative;
            overflow: hidden;
        }
        .mach-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.2), transparent);
        }
        .comp { border-top-color: var(--danger); }
        .tipper { border-top-color: var(--success); }
        .exc-load { border-top-color: var(--warning); }
        .ftd-mtd { border-top-color: var(--purple); }
        .mach-icon { 
            font-size: 2.4rem; 
            margin-bottom: 8px; 
            opacity: 0.9; 
            background: linear-gradient(135deg, currentColor, rgba(59, 130, 246, 0.7));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .mach-label { 
            font-size: 0.95rem; 
            color: var(--text-light); 
            font-weight: 600; 
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .mach-value { 
            font-size: 2.3rem; 
            font-weight: 700; 
            margin-top: 4px; 
            background: linear-gradient(135deg, var(--text), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Compressor details section */
        .compressor-details {
            margin-top: 6px;
            font-size: 0.85rem;
            color: var(--text-light);
            line-height: 1.3;
            padding: 0 5px;
        }
        .compressor-details .holes {
            color: var(--danger);
            font-weight: 600;
            margin-bottom: 2px;
        }
        .compressor-details .feets {
            color: var(--warning);
            font-weight: 600;
        }
        
        /* Combined Excavator/Loader Box - Now clickable */
        .combined-box {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 10px;
        }
        .combined-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: rgba(245, 158, 11, 0.1);
            border-radius: 8px;
            border-left: 4px solid var(--warning);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .combined-item:hover {
            background: rgba(245, 158, 11, 0.2);
            transform: translateX(4px);
        }
        .combined-label {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-light);
        }
        .combined-value {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text);
        }

        /* Plant Running Hours Button */
        .plant-running-hours {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--success), var(--success-light));
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
            transition: all 0.3s ease;
            z-index: 100;
            border: 4px solid white;
            text-align: center;
        }
        .plant-running-hours:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 12px 30px rgba(16, 185, 129, 0.6);
        }
        .plant-running-hours .hours-value {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 5px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .plant-running-hours .hours-label {
            font-size: 0.9rem;
            font-weight: 600;
            opacity: 0.9;
        }
        .plant-running-hours .hours-status {
            font-size: 0.7rem;
            font-weight: 600;
            background: rgba(255,255,255,0.2);
            padding: 2px 10px;
            border-radius: 12px;
            margin-top: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Main Layout - Updated with new sizing */
        .main-area {
            display: grid;
            grid-template-columns: 1fr 1.3fr;
            grid-template-rows: auto;
            gap: 18px;
            height: 100%;
            min-height: 600px;
        }
        .left-stack {
            display: grid;
            grid-template-rows: auto;
            gap: 18px;
            grid-column: 1;
            grid-row: 1;
            height: 100%;
        }

        /* Updated Map positioning - Increased by 30% */
        .map-container {
            border-radius: 12px;
            overflow: hidden;
            height: 100%;
            display: flex;
            flex-direction: column;
            cursor: pointer;
            border: 1px solid var(--border);
            grid-column: 2;
            grid-row: 1;
            align-self: start;
            height: 520px;
            width: 100%;
        }
        .map-header {
            background: linear-gradient(90deg, #1e293b, #334155);
            color: white;
            padding: 16px;
            text-align: center;
            font-size: 1.3rem;
            font-weight: 600;
            border-bottom: 1px solid var(--border);
        }
        .map-image {
            flex: 1;
            background-color: #f1f5f9;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        .map-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            transition: transform 0.3s ease;
        }
        .map-container:hover .map-image img {
            transform: scale(1.02);
        }

        /* Boulder + Dispatch Card - Reduced by 30% */
        .merged-ops-prod {
            border: 2px solid var(--orange) !important;
            border-radius: 14px;
            overflow: hidden;
            padding: 20px;
            background: linear-gradient(135deg, rgba(249, 115, 22, 0.05), rgba(249, 115, 22, 0.1));
            position: relative;
            height: 520px;
            display: flex;
            flex-direction: column;
        }
        .merged-ops-prod::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--orange), var(--orange-light));
        }
        .section-title {
            font-size: 1.4rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
            color: var(--orange);
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 25%;
            width: 50%;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--orange), transparent);
        }
        .boulder-row {
            display: grid;
            grid-template-columns: repeat(3,1fr);
            gap: 15px;
            margin-bottom: 24px;
        }
        .boulder-item {
            padding: 18px 12px;
            text-align: center;
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(254, 215, 170, 0.5);
            border-radius: 12px;
            transition: all 0.25s;
            position: relative;
            overflow: hidden;
        }
        .boulder-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--orange), var(--orange-light));
        }
        .boulder-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
            border-color: var(--orange);
            background: white;
        }
        .boulder-item i { 
            font-size: 2rem;
            margin-bottom: 10px;
            opacity: 0.9; 
            background: linear-gradient(135deg, currentColor, rgba(59, 130, 246, 0.7));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .trips i { color: var(--primary); }
        .tonnage i { color: var(--orange); }
        .feeder i { color: var(--danger); }
        .boulder-item .label { 
            font-size: 0.9rem;
            color: var(--text-light); 
            font-weight: 600; 
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .boulder-item .value { 
            font-size: 2rem;
            font-weight: 800; 
            margin-top: 6px;
            background: linear-gradient(135deg, var(--text), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .boulder-item .trip-count {
            font-size: 0.9rem;
            font-weight: 600;
            margin-top: 6px;
            color: var(--primary);
            background: rgba(59, 130, 246, 0.1);
            padding: 4px 10px;
            border-radius: 20px;
            display: inline-block;
        }

        /* Dispatch Grid */
        .dispatch-grid {
            display: grid;
            grid-template-columns: repeat(4,1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        .dispatch-item {
            padding: 18px 12px;
            text-align: center;
            background: rgba(254, 252, 232, 0.3);
            border: 1px solid rgba(253, 230, 138, 0.5);
            border-radius: 10px;
            transition: all 0.25s;
            position: relative;
            overflow: hidden;
        }
        .dispatch-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--warning), var(--warning-light));
        }
        .dispatch-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
            border-color: var(--warning);
            background: white;
        }
        .dispatch-item .label { 
            font-size: 0.9rem;
            color: var(--warning); 
            font-weight: 600; 
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .dispatch-item .value { 
            font-size: 1.8rem;
            font-weight: 700; 
            margin-top: 6px;
            color: var(--warning);
            background: linear-gradient(135deg, var(--warning), var(--warning-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Dispatch Vehicles */
        .dispatch-vehicles {
            margin-top: 15px;
            padding: 20px 12px;
            background: linear-gradient(135deg, #0ea5e9 0%, #0369a1 100%);
            border: none;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(3, 105, 161, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            position: relative;
            overflow: hidden;
        }
        .dispatch-vehicles::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        .dispatch-vehicles:hover::before {
            left: 100%;
        }
        .dispatch-vehicles:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(3, 105, 161, 0.4);
            background: linear-gradient(135deg, #38bdf8 0%, #0ea5e9 100%);
        }
        .dispatch-vehicles .label {
            font-size: 1.1rem;
            color: white;
            font-weight: 600;
            margin-bottom: 0;
        }
        .dispatch-vehicles .value {
            font-size: 2rem;
            font-weight: 800;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .dispatch-vehicles i {
            font-size: 1.8rem;
            color: white;
            opacity: 0.9;
        }

        /* Production & Stock Button */
        .production-stock {
            margin-top: 15px;
            padding: 20px 12px;
            background: linear-gradient(135deg, #10b981 0%, #047857 100%);
            border: none;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            position: relative;
            overflow: hidden;
        }
        .production-stock::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        .production-stock:hover::before {
            left: 100%;
        }
        .production-stock:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
            background: linear-gradient(135deg, #34d399 0%, #10b981 100%);
        }
        .production-stock .label {
            font-size: 1.1rem;
            color: white;
            font-weight: 600;
            margin-bottom: 0;
        }
        .production-stock .value {
            font-size: 2rem;
            font-weight: 800;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .production-stock i {
            font-size: 1.8rem;
            color: white;
            opacity: 0.9;
        }

        /* Clickable Items */
        .feeder-clickable, .ftd-mtd-clickable, .tipper-clickable, .comp-clickable, .exc-load-clickable {
            cursor: pointer;
            border: 2px solid var(--primary) !important;
            animation: pulse 2s infinite;
        }
        .feeder-clickable:hover, .ftd-mtd-clickable:hover, .tipper-clickable:hover, .comp-clickable:hover, .exc-load-clickable:hover {
            border-color: var(--primary-light) !important;
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }
            100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
        }

        /* Modal Controls for Fullscreen */
        .modal-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 10px;
            z-index: 1001;
        }
        .modal-btn {
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2rem;
        }
        .modal-btn:hover {
            background: rgba(0, 0, 0, 0.9);
            transform: scale(1.1);
        }
        
        /* Fullscreen button for main window */
        .fullscreen-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.3rem;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }
        .fullscreen-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.6);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }
        
        /* Fullscreen modal */
        .modal.fullscreen {
            background-color: #000;
            z-index: 2000;
        }
        
        .modal.fullscreen .modal-content {
            width: 100%;
            height: 100%;
            max-width: 100%;
            max-height: 100%;
            border-radius: 0;
            margin: 0;
            padding: 0;
        }
        
        .modal.fullscreen .modal-header {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1002;
            border-radius: 0;
        }
        
        .modal.fullscreen .modal-body {
            height: calc(100% - 60px);
            padding: 60px 20px 20px 20px;
            overflow: auto;
        }
        
        .modal.fullscreen .zoom-modal-body {
            height: 100%;
            padding: 60px 20px 20px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .modal.fullscreen .zoom-modal-body img {
            max-width: 100%;
            max-height: 100%;
        }
        
        .modal-content {
            background-color: var(--card);
            border-radius: 16px;
            width: 90%;
            max-width: 1000px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            animation: modalFadeIn 0.3s;
            border: 1px solid var(--border);
            position: relative;
        }
        
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        
        .modal-header {
            padding: 20px;
            background: #4a6491;
            color: white;
            border-radius: 16px 16px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border);
            position: relative;
        }
        
        .modal-header h2 {
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }
        
        .close-btn:hover {
            background: rgba(255,255,255,0.1);
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .modal-section {
            margin-bottom: 20px;
        }
        
        .modal-section h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--primary);
            border-bottom: 1px solid var(--border);
            padding-bottom: 5px;
        }
        
        .modal-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .modal-table th, .modal-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        
        .modal-table th {
            background-color: rgba(59, 130, 246, 0.1);
            font-weight: 600;
            color: var(--primary-light);
        }
        
        .modal-table tr:hover {
            background-color: rgba(0,0,0,0.02);
        }
        
        /* Image Modal */
        .image-modal-content {
            max-width: 95%;
            max-height: 95%;
        }
        
        .image-modal-body {
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        
        .image-modal-body img {
            max-width: 100%;
            max-height: 80vh;
            border-radius: 8px;
        }
        
        /* UPDATED: FTD/MTD Reports Side by Side - Increased by 60% */
        .reports-container {
            display: flex;
            gap: 30px;
            margin-top: 20px;
            justify-content: center;
            align-items: flex-start;
            transform: scale(1.6); /* Increased by 60% */
            transform-origin: top center;
            width: 166.67%; /* Adjust width to compensate for scaling */
            margin-left: -33.34%; /* Center the scaled content */
        }
        
        .report-card {
            background: var(--card);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            cursor: pointer;
            flex: 1;
            max-width: 50%;
            border: 1px solid var(--border);
            position: relative;
        }
        
        .report-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
            border-color: var(--purple);
        }
        
        .report-header {
            background: #4a6491;
            color: white;
            padding: 16px;
            text-align: center;
            font-weight: 600;
            font-size: 1.2rem;
        }
        
        .report-image {
            width: 100%;
            height: auto;
            object-fit: contain;
            border-bottom: 1px solid var(--border);
        }
        
        .report-footer {
            padding: 12px;
            text-align: center;
            background: rgba(0,0,0,0.02);
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        /* Zoom Modal for Reports */
        .zoom-modal-content {
            max-width: 95%;
            max-height: 95%;
            width: auto;
        }
        
        .zoom-modal-body {
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .zoom-modal-body img {
            max-width: 100%;
            max-height: 80vh;
            border-radius: 8px;
            box-shadow: var(--shadow);
        }
        
        .report-title {
            margin-bottom: 15px;
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--purple);
            text-align: center;
        }

        /* Image Gallery Styles */
        .image-gallery {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 20px;
        }
        
        .image-gallery-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 20px;
        }
        
        .gallery-item {
            background: var(--card);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid var(--border);
            position: relative;
        }
        
        .gallery-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
            border-color: var(--primary);
        }
        
        .gallery-header {
            background: #4a6491;
            color: white;
            padding: 16px;
            text-align: center;
            font-weight: 600;
        }
        
        .gallery-image {
            width: 100%;
            height: auto;
            object-fit: contain;
            border-bottom: 1px solid var(--border);
        }
        
        .gallery-footer {
            padding: 12px;
            text-align: center;
            background: rgba(0,0,0,0.02);
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* Simple Team Attendance in Modals */
        .team-summary {
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(59, 130, 246, 0.1));
            border-radius: 12px;
            border: 1px solid rgba(59, 130, 246, 0.2);
        }
        
        .team-summary h3 {
            font-size: 1.1rem;
            color: var(--primary);
            margin-bottom: 10px;
            text-align: center;
        }
        
        .team-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        .team-member {
            background: white;
            padding: 8px 12px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .team-member .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
        
        .team-member .status-present {
            background-color: var(--success);
        }
        
        .team-member .status-absent {
            background-color: var(--danger);
        }
        
        .team-member-name {
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .team-member-role {
            font-size: 0.7rem;
            color: var(--text-light);
        }

        /* Production & Stock Modal Styles */
        .production-stock-modal .modal-body {
            padding: 30px;
        }
        
        /* Production & Stock Section Styles */
        .production-stock-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 18px;
            margin-top: 18px;
        }
        
        .cctv-container {
            border-radius: 12px;
            overflow: hidden;
            height: 100%;
            display: flex;
            flex-direction: column;
            border: 1px solid var(--border);
        }
        
        .cctv-header {
            background: #4a6491;
            color: white;
            padding: 16px;
            text-align: center;
            font-size: 1.3rem;
            font-weight: 600;
            border-bottom: 1px solid var(--border);
        }
        
        .cctv-image {
            flex: 1;
            background-color: #0f172a;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .cctv-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        
        .cctv-container:hover .cctv-image img {
            transform: scale(1.02);
        }
        
        .production-stock-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .production-details, .stock-details {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .production-table, .stock-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--card);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border: 1px solid var(--border);
        }
        
        .production-table th, .production-table td,
        .stock-table th, .stock-table td {
            padding: 14px 16px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        
        .production-table th, .stock-table th {
            background: #4a6491;
            color: white;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .production-table tr:last-child td, .stock-table tr:last-child td {
            border-bottom: none;
        }
        
        .production-table tr:hover, .stock-table tr:hover {
            background-color: rgba(255,255,255,0.05);
        }
        
        .production-table .total-row, .stock-table .total-row {
            background-color: rgba(16, 185, 129, 0.1);
            font-weight: 700;
        }
        
        .production-table .total-row td, .stock-table .total-row td {
            font-weight: 700;
        }

        /* Cashflow Report Styles */
        .cashflow-container {
            margin-top: 20px;
        }
        
        .cashflow-cards {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .cashflow-card {
            width: 220px;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            border-left: 4px solid var(--primary);
        }
        
        .cashflow-card-title {
            font-size: 14px;
            color: #555;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .cashflow-card-value {
            height: 24px;
            background: #eaeaea;
            border-radius: 4px;
            font-weight: 700;
            color: var(--text);
            display: flex;
            align-items: center;
            padding-left: 10px;
        }
        
        .cashflow-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .cashflow-table th, .cashflow-table td {
            border: 1px solid #ddd;
            padding: 10px;
            font-size: 14px;
            text-align: center;
        }
        
        .cashflow-table th {
            background: #4a6491;
            color: white;
            font-weight: 600;
        }
        
        .cashflow-table tr:hover {
            background-color: rgba(0,0,0,0.02);
        }
        
        .action-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: background 0.3s;
        }
        
        .action-btn:hover {
            background: var(--primary-light);
        }

        /* Equipment Report Table */
        .equipment-report {
            margin-top: 20px;
            padding: 15px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border: 1px solid var(--border);
        }
        
        .equipment-report h3 {
            color: var(--warning);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .equipment-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .equipment-table th, .equipment-table td {
            padding: 10px 15px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        
        .equipment-table th {
            background: #4a6491;
            color: white;
            font-weight: 600;
        }
        
        .equipment-table tr:last-child td {
            border-bottom: none;
        }
        
        .equipment-table tr:hover {
            background-color: rgba(0,0,0,0.02);
        }
        
        /* Compressor Modal Table Styles */
        .production-table-container {
            width: 100%;
            overflow-x: auto;
        }
        
        .production-table-container table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border: 1px solid var(--border);
        }
        
        .production-table-container th {
            background: #4a6491;
            color: white;
            font-weight: 600;
            padding: 14px 16px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        
        .production-table-container td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        
        .production-table-container tr:last-child td {
            border-bottom: none;
        }
        
        .production-table-container tr.highlight {
            background-color: rgba(239, 68, 68, 0.05);
        }
        
        .production-table-container tr:hover {
            background-color: rgba(0,0,0,0.02);
        }
        
        .production-table-container .achievement-high {
            color: var(--success);
            font-weight: 700;
        }
        
        .production-table-container .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .production-table-container .target-badge {
            background: #4a6491;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* Enhanced Map Modal Styles */
        .enhanced-map-modal .modal-body {
            padding: 0;
        }
        
        .map-topup-container {
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .map-topup-header {
            padding: 20px;
            background: #4a6491;
            color: white;
            text-align: center;
        }
        
        .map-topup-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            background: #f1f5f9;
        }
        
        .map-topup-image {
            max-width: 90%;
            max-height: 70vh;
            object-fit: contain;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
            border: 2px solid white;
        }
        
        .map-legend {
            margin-top: 20px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        /* Responsive */
        @media (max-width: 1400px) {
            .main-area { grid-template-columns: 1fr; }
            .map-container { 
                height: 400px; 
                grid-column: 1;
                grid-row: 2;
            }
            .merged-ops-prod {
                height: auto;
            }
            .production-stock-section { grid-template-columns: 1fr; }
        }
        
        @media (max-width: 900px) {
            .machines, .boulder-row, .dispatch-grid, .production-stock-grid { grid-template-columns: 1fr; }
            .reports-container, .image-gallery, .image-gallery-2 { 
                grid-template-columns: 1fr; 
                flex-direction: column;
            }
            .report-card, .gallery-item { max-width: 100%; }
            .production-table-container th, .production-table-container td {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            .section-header {
                flex-direction: column;
                align-items: flex-start;
            }
            .production-stock-grid { grid-template-columns: 1fr; }
            .cashflow-cards { justify-content: center; }
            .cashflow-card { width: 100%; max-width: 300px; }
            .compressor-details {
                font-size: 0.8rem;
                line-height: 1.2;
            }
            .plant-running-hours {
                width: 100px;
                height: 100px;
                bottom: 20px;
                right: 20px;
            }
            .plant-running-hours .hours-value {
                font-size: 1.8rem;
            }
        }
        
        @media (max-width: 600px) {
            .machines, .boulder-row, .dispatch-grid { grid-template-columns: 1fr; }
            .modal-content { width: 95%; }
            .dispatch-vehicles, .production-stock {
                flex-direction: column;
                gap: 12px;
            }
            .dispatch-vehicles .label, .production-stock .label {
                font-size: 1.1rem;
            }
            .dispatch-vehicles .value, .production-stock .value {
                font-size: 2rem;
            }
            .compressor-details {
                font-size: 0.75rem;
            }
            .mach-value {
                font-size: 2rem;
            }
            .plant-running-hours {
                width: 90px;
                height: 90px;
                bottom: 15px;
                right: 15px;
            }
            .plant-running-hours .hours-value {
                font-size: 1.6rem;
            }
            .plant-running-hours .hours-label {
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <!-- Fullscreen Button -->
    <button class="fullscreen-btn" id="fullscreen-btn" title="Toggle Fullscreen Mode">
        <i class="fas fa-expand"></i>
    </button>
    
    <div class="title-bar">
        <i class="fas fa-tachometer-alt"></i> SGX Operations Dashboard
        <div class="date-display" id="current-date"></div>
    </div>
    <div class="container">
        <!-- Machines -->
        <div class="machines">
            <!-- Compressors Running box -->
            <div class="card mach-box comp comp-clickable" onclick="openModal('compressor-modal')">
                <i class="fas fa-compress-arrows-alt mach-icon"></i>
                <div class="mach-label">Compressors Running</div>
                <div class="mach-value" id="comp">12</div>
                <div class="compressor-details">
                    <div class="holes">558 holes</div>
                    <div class="feets">3,120 feets</div>
                </div>
            </div>
            <div class="card mach-box tipper tipper-clickable" onclick="openModal('tipper-modal')">
                <i class="fas fa-truck mach-icon"></i>
                <div class="mach-label">Tippers Available</div>
                <div class="mach-value" id="tipper">11/12</div>
            </div>
            <!-- Excavators/Loaders - Now clickable -->
            <div class="card mach-box exc-load exc-load-clickable" onclick="openModal('excavator-loader-modal')">
                <div class="combined-box">
                    <div class="combined-item" onclick="event.stopPropagation(); openModal('excavator-loader-modal');">
                        <span class="combined-label">Excavators Running</span>
                        <span class="combined-value" id="exc">4/5</span>
                    </div>
                    <div class="combined-item" onclick="event.stopPropagation(); openModal('excavator-loader-modal');">
                        <span class="combined-label">Loaders Running</span>
                        <span class="combined-value" id="load">2/2</span>
                    </div>
                </div>
            </div>
            <div class="card mach-box ftd-mtd ftd-mtd-clickable" onclick="openModal('ftd-mtd-modal')">
                <i class="fas fa-chart-line mach-icon"></i>
                <div class="mach-label">FTD / MTD MIS</div>
                <div class="mach-value">Reports</div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-area">
            <!-- Left: Boulder Ops + Dispatch -->
            <div class="left-stack">
                <div class="card merged-ops-prod">
                    <h2 class="section-title"><i class="fas fa-mountain"></i> Boulder Operations & Dispatch Update </h2>
                    
                    <!-- Boulder Operations Row -->
                    <div class="boulder-row">
                        <div class="boulder-item trips">
                            <i class="fas fa-exchange-alt"></i>
                            <div class="label">Trips Today</div>
                            <div class="value" id="trips">49</div>
                        </div>
                        <div class="boulder-item tonnage">
                            <i class="fas fa-weight-hanging"></i>
                            <div class="label">Boulder Tonnage</div>
                            <div class="value" id="boulder-today">1,010</div>
                        </div>
                        <div class="boulder-item feeder feeder-clickable" onclick="openModal('feeder-modal')">
                            <i class="fas fa-conveyor-belt"></i>
                            <div class="label">Feeder to Plant</div>
                            <div class="value" id="boulder-feeder">1,157</div>
                            <div class="trip-count" id="feeder-count">42 Trips</div>
                        </div>
                    </div>

                    <!-- Dispatch Grid -->
                    <div class="dispatch-grid">
                        <div class="dispatch-item">
                            <div class="label">10 mm</div>
                            <div class="value" id="d10">245</div>
                        </div>
                        <div class="dispatch-item">
                            <div class="label">20 mm</div>
                            <div class="value" id="d20">280</div>
                        </div>
                        <div class="dispatch-item">
                            <div class="label">Rivo Sand </div>
                            <div class="value" id="dsand">95</div>
                        </div>
                        <div class="dispatch-item">
                            <div class="label">M Sand</div>
                            <div class="value" id="dmsand">120</div>
                        </div>
                    </div>
                    
                    <!-- Dispatch Vehicles Button -->
                    <div class="dispatch-vehicles" onclick="openModal('dispatch-vehicles-modal')">
                        <div class="label">
                            <i class="fas fa-truck"></i> Total Vehicles Dispatched
                        </div>
                        <div class="value" id="dispatch-vehicles">15</div>
                    </div>
                    
                    <!-- Production & Stock Button -->
                    <div class="production-stock" onclick="openModal('production-stock-modal')">
                        <div class="label">
                            <i class="fas fa-industry"></i> Production & Stock
                        </div>
                        <div class="value">Details</div>
                    </div>
                </div>
            </div>

            <!-- Right: Map - Increased by 30% -->
            <div class="card map-container" onclick="openEnhancedMapModal()">
                <div class="map-header">
                    <i class="fas fa-map-marked-alt"></i> Live Operations Map
                </div>
                <div class="map-image">
                    <img src="https://lloyds.in/wp-content/themes/lloyds-metals-new/img/lloyd-metals/Our%20Operation-04%20.svg" alt="Live Operations Map">
                </div>
            </div>
        </div>
        
        <!-- Plant Running Hours Button -->
        <div class="plant-running-hours" onclick="openModal('plant-hours-modal')">
            <div class="hours-value" id="plant-hours">10.7</div>
            <div class="hours-label">Running Hours</div>
            <div class="hours-status" id="plant-status">Live</div>
        </div>
    </div>

    <!-- Modal for Feeder to Plant -->
    <div id="feeder-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-conveyor-belt"></i> Feeder to Plant Details</h2>
                <button class="close-btn" onclick="closeModal('feeder-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <div style="max-height: 400px; overflow-y: auto; margin-bottom: 20px;">
                    <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                        <thead>
                            <tr style="background: #4a6491; color: white;">
                                <th style="padding: 12px 15px; text-align: left;">Vehicle Number</th>
                                <th style="padding: 12px 15px; text-align: center;">Day Trips</th>
                                <th style="padding: 12px 15px; text-align: center;">Night Trips</th>
                                <th style="padding: 12px 15px; text-align: center;">Total Trips</th>
                                <th style="padding: 12px 15px; text-align: center;">Tonnage</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid #f0f0f0;">
                                <td style="padding: 12px 15px; font-weight: 600;">AP39UQ0095</td>
                                <td style="padding: 12px 15px; text-align: center; color: #4a90e2;">3</td>
                                <td style="padding: 12px 15px; text-align: center; color: #2c3e50;">2</td>
                                <td style="padding: 12px 15px; text-align: center;">5</td>
                                <td style="padding: 12px 15px; text-align: center;">121.5</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #f0f0f0;">
                                <td style="padding: 12px 15px; font-weight: 600;">AP39UQ0097</td>
                                <td style="padding: 12px 15px; text-align: center; color: #4a90e2;">2</td>
                                <td style="padding: 12px 15px; text-align: center; color: #2c3e50;">3</td>
                                <td style="padding: 12px 15px; text-align: center;">5</td>
                                <td style="padding: 12px 15px; text-align: center;">121.5</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #f0f0f0;">
                                <td style="padding: 12px 15px; font-weight: 600;">AP39UW9880</td>
                                <td style="padding: 12px 15px; text-align: center; color: #4a90e2;">1</td>
                                <td style="padding: 12px 15px; text-align: center; color: #2c3e50;">3</td>
                                <td style="padding: 12px 15px; text-align: center;">4</td>
                                <td style="padding: 12px 15px; text-align: center;">97.2</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #f0f0f0;">
                                <td style="padding: 12px 15px; font-weight: 600;">AP39UW9881</td>
                                <td style="padding: 12px 15px; text-align: center; color: #4a90e2;">3</td>
                                <td style="padding: 12px 15px; text-align: center; color: #2c3e50;">2</td>
                                <td style="padding: 12px 15px; text-align: center;">5</td>
                                <td style="padding: 12px 15px; text-align: center;">121.5</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #f0f0f0;">
                                <td style="padding: 12px 15px; font-weight: 600;">AP39UY4651</td>
                                <td style="padding: 12px 15px; text-align: center; color: #4a90e2;">2</td>
                                <td style="padding: 12px 15px; text-align: center; color: #2c3e50;">2</td>
                                <td style="padding: 12px 15px; text-align: center;">4</td>
                                <td style="padding: 12px 15px; text-align: center;">97.2</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #f0f0f0;">
                                <td style="padding: 12px 15px; font-weight: 600;">AP39UY4652</td>
                                <td style="padding: 12px 15px; text-align: center; color: #4a90e2;">2</td>
                                <td style="padding: 12px 15px; text-align: center; color: #2c3e50;">1</td>
                                <td style="padding: 12px 15px; text-align: center;">3</td>
                                <td style="padding: 12px 15px; text-align: center;">72.9</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #f0f0f0;">
                                <td style="padding: 12px 15px; font-weight: 600;">AP39WC0926</td>
                                <td style="padding: 12px 15px; text-align: center; color: #4a90e2;">3</td>
                                <td style="padding: 12px 15px; text-align: center; color: #2c3e50;">1</td>
                                <td style="padding: 12px 15px; text-align: center;">4</td>
                                <td style="padding: 12px 15px; text-align: center;">97.2</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #f0f0f0;">
                                <td style="padding: 12px 15px; font-weight: 600;">AP39WC0927</td>
                                <td style="padding: 12px 15px; text-align: center; color: #ff6b6b;">0</td>
                                <td style="padding: 12px 15px; text-align: center; color: #ff6b6b;">0</td>
                                <td style="padding: 12px 15px; text-align: center; color: #ff6b6b;">0</td>
                                <td style="padding: 12px 15px; text-align: center; color: #ff6b6b;">0</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #f0f0f0;">
                                <td style="padding: 12px 15px; font-weight: 600;">AP39WC0928</td>
                                <td style="padding: 12px 15px; text-align: center; color: #4a90e2;">1</td>
                                <td style="padding: 12px 15px; text-align: center; color: #2c3e50;">2</td>
                                <td style="padding: 12px 15px; text-align: center;">3</td>
                                <td style="padding: 12px 15px; text-align: center;">72.9</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #f0f0f0;">
                                <td style="padding: 12px 15px; font-weight: 600;">AP39WF2052</td>
                                <td style="padding: 12px 15px; text-align: center; color: #4a90e2;">2</td>
                                <td style="padding: 12px 15px; text-align: center; color: #2c3e50;">2</td>
                                <td style="padding: 12px 15px; text-align: center;">4</td>
                                <td style="padding: 12px 15px; text-align: center;">97.2</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #f0f0f0;">
                                <td style="padding: 12px 15px; font-weight: 600;">AP39WF2057</td>
                                <td style="padding: 12px 15px; text-align: center; color: #4a90e2;">1</td>
                                <td style="padding: 12px 15px; text-align: center; color: #2c3e50;">2</td>
                                <td style="padding: 12px 15px; text-align: center;">3</td>
                                <td style="padding: 12px 15px; text-align: center;">72.9</td>
                            </tr>
                            <tr>
                                <td style="padding: 12px 15px; font-weight: 600;">AP39WF2058</td>
                                <td style="padding: 12px 15px; text-align: center; color: #ff6b6b;">0</td>
                                <td style="padding: 12px 15px; text-align: center; color: #ff6b6b;">0</td>
                                <td style="padding: 12px 15px; text-align: center; color: #ff6b6b;">0</td>
                                <td style="padding: 12px 15px; text-align: center; color: #ff6b6b;">0</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 20px;">
                    <div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                        <div style="color: #666; font-size: 0.9rem; margin-bottom: 8px;">Day Trips</div>
                        <div style="font-size: 1.8rem; font-weight: 700; color: #4a90e2;">20</div>
                    </div>
                    <div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                        <div style="color: #666; font-size: 0.9rem; margin-bottom: 8px;">Night Trips</div>
                        <div style="font-size: 1.8rem; font-weight: 700; color: #2c3e50;">20</div>
                    </div>
                    <div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                        <div style="color: #666; font-size: 0.9rem; margin-bottom: 8px;">Total Trips</div>
                        <div style="font-size: 1.8rem; font-weight: 700; color: #1a6fc4;">40</div>
                    </div>
                    <div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                        <div style="color: #666; font-size: 0.9rem; margin-bottom: 8px;">Total Tonnage</div>
                        <div style="font-size: 1.8rem; font-weight: 700; color: #27ae60;">972</div>
                    </div>
                </div>
                
                <!-- Simplified Quarry Team Summary -->
                <div class="team-summary">
                    <h3><i class="fas fa-users"></i> Quarry Team - Today's Status</h3>
                    <div class="team-list">
                        <div class="team-member">
                            <span class="status-dot status-present"></span>
                            <div>
                                <div class="team-member-name">Drivers</div>
                                <div class="team-member-role">8/12 Present</div>
                            </div>
                        </div>
                        <div class="team-member">
                            <span class="status-dot status-present"></span>
                            <div>
                                <div class="team-member-name">Helpers</div>
                                <div class="team-member-role">6/8 Present</div>
                            </div>
                        </div>
                        <div class="team-member">
                            <span class="status-dot status-present"></span>
                            <div>
                                <div class="team-member-name">Supervisors</div>
                                <div class="team-member-role">2/2 Present</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Tippers Available -->
    <div id="tipper-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-truck"></i> Tippers Available</h2>
                <button class="close-btn" onclick="closeModal('tipper-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <div style="display: flex; gap: 15px; flex-wrap: wrap; margin-bottom: 20px;">
                        <div style="flex: 1; min-width: 200px; background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <div style="color: #666; font-size: 0.9rem; margin-bottom: 8px;">Total Tippers</div>
                            <div style="font-size: 2rem; font-weight: 700; color: var(--primary);" id="total-tippers">12</div>
                        </div>
                        <div style="flex: 1; min-width: 200px; background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <div style="color: #666; font-size: 0.9rem; margin-bottom: 8px;">Day Shift Available</div>
                            <div style="font-size: 2rem; font-weight: 700; color: var(--success);" id="day-available">8</div>
                        </div>
                        <div style="flex: 1; min-width: 200px; background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <div style="color: #666; font-size: 0.9rem; margin-bottom: 8px;">Night Shift Available</div>
                            <div style="font-size: 2rem; font-weight: 700; color: var(--warning);" id="night-available">8</div>
                        </div>
                        <div style="flex: 1; min-width: 200px; background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <div style="color: #666; font-size: 0.9rem; margin-bottom: 8px;">Unavailable (Day/Night)</div>
                            <div style="font-size: 2rem; font-weight: 700; color: var(--danger);" id="unavailable-day-night">2</div>
                        </div>
                    </div>
                    
                    <div style="overflow-x: auto;">
                        <table id="tippersTable" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <thead>
                                <tr style="background: #4a6491; color: white;">
                                    <th style="padding: 12px 10px; text-align: left;">Tipper ID</th>
                                    <th style="padding: 12px 10px; text-align: left;">Availability</th>
                                    <th style="padding: 12px 10px; text-align: left;">MTD Avl Day/Night</th>
                                    <th style="padding: 12px 10px; text-align: left;">Absent Remark</th>
                                    <th style="padding: 12px 10px; text-align: left;">Performance</th>
                                    <th style="padding: 12px 10px; text-align: left;">MTD Trips</th>
                                </tr>
                            </thead>
                            <tbody id="tableBody">
                                <!-- Data populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Excavators and Loaders -->
    <div id="excavator-loader-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-digging"></i> Excavators & Loaders Details</h2>
                <button class="close-btn" onclick="closeModal('excavator-loader-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="equipment-report">
                    <h3>Equipment Working Status</h3>
                    
                    <table class="equipment-table">
                        <thead>
                            <tr>
                                <th>Equipment ID</th>
                                <th>Type</th>
                                <th>Purpose</th>
                                <th>Daily (hrs)</th>
                                <th>MTD (hrs)</th>
                                <th>Status</th>
                                <th>Remarks</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>EXC-001</td>
                                <td>Excavator</td>
                                <td><span class="purpose-tag loading">L</span></td>
                                <td>8.2</td>
                                <td>124.5</td>
                                <td><span class="status running">Running</span></td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>EXC-002</td>
                                <td>Excavator</td>
                                <td><span class="purpose-tag loading">L</span></td>
                                <td>7.8</td>
                                <td>118.2</td>
                                <td><span class="status running">Running</span></td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>EXC-003</td>
                                <td>Excavator</td>
                                <td><span class="purpose-tag breaking">B</span></td>
                                <td>6.5</td>
                                <td>97.5</td>
                                <td><span class="status running">Running</span></td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>EXC-004</td>
                                <td>Excavator</td>
                                <td><span class="purpose-tag development">D</span></td>
                                <td>5.9</td>
                                <td>88.7</td>
                                <td><span class="status running">Running</span></td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>EXC-005</td>
                                <td>Excavator</td>
                                <td><span class="purpose-tag breaking">B</span></td>
                                <td>0</td>
                                <td>102.3</td>
                                <td><span class="status maintenance">Maintenance</span></td>
                                <td>Hydraulic repair</td>
                            </tr>
                            <tr>
                                <td>LDR-001</td>
                                <td>Loader</td>
                                <td><span class="purpose-tag loading">L</span></td>
                                <td>9.1</td>
                                <td>136.5</td>
                                <td><span class="status running">Running</span></td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td>LDR-002</td>
                                <td>Loader</td>
                                <td><span class="purpose-tag loading">L</span></td>
                                <td>8.7</td>
                                <td>130.8</td>
                                <td><span class="status running">Running</span></td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Equipment Team Summary -->
                <div class="team-summary">
                    <h3><i class="fas fa-users"></i> Equipment Team - Today's Status</h3>
                    <div class="team-list">
                        <div class="team-member">
                            <span class="status-dot status-present"></span>
                            <div>
                                <div class="team-member-name">Operators</div>
                                <div class="team-member-role">6/7 Present</div>
                            </div>
                        </div>
                        <div class="team-member">
                            <span class="status-dot status-present"></span>
                            <div>
                                <div class="team-member-name">Mechanics</div>
                                <div class="team-member-role">2/2 Present</div>
                            </div>
                        </div>
                        <div class="team-member">
                            <span class="status-dot status-present"></span>
                            <div>
                                <div class="team-member-name">Supervisors</div>
                                <div class="team-member-role">1/1 Present</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Dispatch Vehicles -->
    <div id="dispatch-vehicles-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-truck"></i> Dispatch Dashboard</h2>
                <button class="close-btn" onclick="closeModal('dispatch-vehicles-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <style>
                    .dispatch-dashboard {
                        max-width: 1400px;
                        margin: 0 auto;
                        background: #ffffff;
                        border-radius: 12px;
                        overflow: hidden;
                    }
                    .dispatch-header {
                        text-align: center;
                        padding: 25px;
                        background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
                        color: white;
                        border-radius: 12px;
                        box-shadow: 0 4px 12px rgba(0,0,0,0.08);
                        margin-bottom: 30px;
                    }
                    .dispatch-header h1 {
                        font-size: 2.2rem;
                        margin-bottom: 8px;
                    }
                    .dispatch-date-badge {
                        display: inline-block;
                        background: rgba(255,255,255,0.15);
                        padding: 8px 20px;
                        border-radius: 30px;
                        font-weight: 500;
                        margin-top: 10px;
                    }
                    .dispatch-section {
                        background: white;
                        border-radius: 12px;
                        overflow: hidden;
                        box-shadow: 0 4px 12px rgba(0,0,0,0.08);
                        margin-bottom: 30px;
                        border: 1px solid #d9d9d9;
                    }
                    .dispatch-section-header {
                        padding: 18px 25px;
                        font-weight: 700;
                        font-size: 1.3rem;
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                    }
                    .dispatch-section-header.orange { 
                        background: linear-gradient(135deg, #f8b88b 0%, #f5a76c 100%); 
                        color: #000; 
                        border-bottom: 4px solid #e67e22; 
                    }
                    .dispatch-section-header.yellow { 
                        background: linear-gradient(135deg, #fff2cc 0%, #ffe699 100%); 
                        color: #b33a00; 
                        border-bottom: 4px solid #ffcc00; 
                    }
                    .dispatch-section-header.green { 
                        background: linear-gradient(135deg, #d5e8d4 0%, #b8d9a5 100%); 
                        color: #1a5a1a; 
                        border-bottom: 4px solid #27ae60; 
                    }
                    .dispatch-section-header.light-green { 
                        background: linear-gradient(135deg, #e1f5e1 0%, #c8e6c9 100%); 
                        color: #1a5a1a; 
                        border-bottom: 4px solid #2ecc71; 
                    }
                    .dispatch-section-header.vehicle-planning { 
                        background: linear-gradient(135deg, #f2f2f2 0%, #e6e6e6 100%); 
                        color: #000; 
                        font-weight: 800; 
                        border-bottom: 4px solid #666; 
                    }
                    .dispatch-total-badge {
                        background: rgba(0,0,0,0.1);
                        padding: 6px 14px;
                        border-radius: 20px;
                        font-weight: 600;
                    }
                    .dispatch-table-container {
                        overflow-x: auto;
                    }
                    .dispatch-table {
                        width: 100%;
                        border-collapse: collapse;
                        min-width: 1000px;
                    }
                    .dispatch-table th, .dispatch-table td {
                        padding: 12px 14px;
                        text-align: center;
                        border: 1px solid #d9d9d9;
                    }
                    .dispatch-table th {
                        background: #f8f9fa;
                        font-weight: 700;
                        text-transform: uppercase;
                        font-size: 0.85rem;
                        letter-spacing: 0.5px;
                    }
                    .dispatch-table td.numeric {
                        text-align: right;
                        font-weight: 500;
                        font-family: 'Roboto Mono', monospace;
                        padding-right: 20px;
                    }
                    .dispatch-table td.date {
                        background: #f8f9fa;
                        font-weight: 600;
                    }
                    .dispatch-table td.highlight {
                        background-color: #fffde7;
                        font-weight: 700;
                    }
                    .dispatch-table td.client-name {
                        text-align: left;
                        font-weight: 600;
                        background: #f3e5f5;
                        padding-left: 20px;
                    }
                    .dispatch-table .grand-total-row {
                        background: linear-gradient(135deg, #c9daf8 0%, #a4c2f4 100%);
                        font-weight: 800;
                        font-size: 1.1rem;
                    }
                    .dispatch-table .total-row {
                        background: #d9ead3;
                        font-weight: 800;
                    }
                    .dispatch-table .trips-row {
                        background: #fff2cc;
                        font-weight: 800;
                    }
                </style>
                
                <div class="dispatch-dashboard">
                    <div class="dispatch-header">
                        <h1><i class="fas fa-mountain"></i> Dispatch Dashboard</h1>
                        <div class="dispatch-date-badge"><i class="fas fa-calendar-alt"></i> Current Report: 20-Dec-2025</div>
                    </div>

                    <!-- SHIFT WISE DISPATCH SUMMARY -->
                    <div class="dispatch-section">
                        <div class="dispatch-section-header orange">
                            <span><i class="fas fa-chart-line"></i> SHIFT WISE DISPATCH SUMMARY (25-Dec-2025)</span>
                            <span class="dispatch-total-badge">FTD Total: 4129 MT</span>
                        </div>

                        <!-- A-Shift -->
                        <div class="dispatch-section">
                            <div class="dispatch-section-header yellow">
                                <span><i class="fas fa-sun"></i> A-Shift Dispatched Details</span>
                                <span class="dispatch-total-badge">Total: 494 MT</span>
                            </div>
                            <div class="dispatch-table-container">
                                <table class="dispatch-table">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>10 MM</th>
                                            <th>20 MM</th>
                                            <th>V-SAND</th>
                                            <th>P-SAND</th>
                                            <th>Scalping</th>
                                            <th>GSB / Wet Mix</th>
                                            <th>40 MM</th>
                                            <th>50 MM</th>
                                            <th>R Sand</th>
                                            <th>TOTAL</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="date">25-Dec-2025</td>
                                            <td class="numeric">25</td>
                                            <td class="numeric">65</td>
                                            <td class="numeric">25</td>
                                            <td class="numeric">25</td>
                                            <td class="numeric">65</td>
                                            <td class="numeric">69</td>
                                            <td class="numeric">80</td>
                                            <td class="numeric">85</td>
                                            <td class="numeric">55</td>
                                            <td class="numeric highlight">494</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- B-Shift -->
                        <div class="dispatch-section">
                            <div class="dispatch-section-header yellow">
                                <span><i class="fas fa-moon"></i> B-Shift Dispatched Details</span>
                                <span class="dispatch-total-badge">Total: 3635 MT</span>
                            </div>
                            <div class="dispatch-table-container">
                                <table class="dispatch-table">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>10 MM</th>
                                            <th>20 MM</th>
                                            <th>V-SAND</th>
                                            <th>P-SAND</th>
                                            <th>Scalping</th>
                                            <th>GSB / Wet Mix</th>
                                            <th>40 MM</th>
                                            <th>50 MM</th>
                                            <th>R Sand</th>
                                            <th>TOTAL</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="date">25-Dec-2025</td>
                                            <td class="numeric">250</td>
                                            <td class="numeric">545</td>
                                            <td class="numeric">58</td>
                                            <td class="numeric">51</td>
                                            <td class="numeric">51</td>
                                            <td class="numeric">2365</td>
                                            <td class="numeric">255</td>
                                            <td class="numeric">55</td>
                                            <td class="numeric">5</td>
                                            <td class="numeric highlight">3635</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Combined A + B -->
                        <div class="dispatch-section">
                            <div class="dispatch-section-header green">
                                <span><i class="fas fa-calculator"></i> A + B SHIFT COMBINED TOTAL (FTD)</span>
                                <span class="dispatch-total-badge">Total: 4129 MT</span>
                            </div>
                            <div class="dispatch-table-container">
                                <table class="dispatch-table">
                                    <thead>
                                        <tr>
                                            <th>Shift</th>
                                            <th>10 MM</th>
                                            <th>20 MM</th>
                                            <th>V-SAND</th>
                                            <th>P-SAND</th>
                                            <th>Scalping</th>
                                            <th>GSB / Wet Mix</th>
                                            <th>40 MM</th>
                                            <th>50 MM</th>
                                            <th>R Sand</th>
                                            <th>TOTAL</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>A-Shift</td>
                                            <td class="numeric">25</td>
                                            <td class="numeric">65</td>
                                            <td class="numeric">25</td>
                                            <td class="numeric">25</td>
                                            <td class="numeric">65</td>
                                            <td class="numeric">69</td>
                                            <td class="numeric">80</td>
                                            <td class="numeric">85</td>
                                            <td class="numeric">55</td>
                                            <td class="numeric">494</td>
                                        </tr>
                                        <tr>
                                            <td>B-Shift</td>
                                            <td class="numeric">250</td>
                                            <td class="numeric">545</td>
                                            <td class="numeric">58</td>
                                            <td class="numeric">51</td>
                                            <td class="numeric">51</td>
                                            <td class="numeric">2365</td>
                                            <td class="numeric">255</td>
                                            <td class="numeric">55</td>
                                            <td class="numeric">5</td>
                                            <td class="numeric">3635</td>
                                        </tr>
                                        <tr class="grand-total-row">
                                            <td><strong>A + B Total</strong></td>
                                            <td class="numeric"><strong>275</strong></td>
                                            <td class="numeric"><strong>610</strong></td>
                                            <td class="numeric"><strong>83</strong></td>
                                            <td class="numeric"><strong>76</strong></td>
                                            <td class="numeric"><strong>116</strong></td>
                                            <td class="numeric"><strong>2434</strong></td>
                                            <td class="numeric"><strong>335</strong></td>
                                            <td class="numeric"><strong>140</strong></td>
                                            <td class="numeric"><strong>60</strong></td>
                                            <td class="numeric"><strong>4129</strong></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- FULL DAY  Dispatch Vehicle Wise Planning -->
                    <div class="dispatch-section">
                        <div class="dispatch-section-header vehicle-planning">
                            <span><i class="fas fa-truck-loading"></i> FULL DAY  Dispatch Vehicle Wise Planning  23 Aug 2025</span>
                        </div>
                        <div class="dispatch-table-container">
                            <table class="dispatch-table">
                                <thead>
                                    <tr>
                                        <th>Client Details</th>
                                        <th>Unit</th>
                                        <th>10 MM</th>
                                        <th>20 MM</th>
                                        <th>V/SAND</th>
                                        <th>Scalping</th>
                                        <th>P/Sand</th>
                                        <th>40 MM</th>
                                        <th>GSB / WET MIX</th>
                                        <th>R/Sand</th>
                                        <th>TOTAL</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td rowspan="2" class="client-name">L & T P2  Rambali</td>
                                        <td>Total Tonnage (MT)</td>
                                        <td class="numeric">99.96</td>
                                        <td class="numeric"></td>
                                        <td class="numeric">67.70</td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric">167.66</td>
                                    </tr>
                                    <tr class="trips-row">
                                        <td>Total Trips</td>
                                        <td class="numeric">2</td>
                                        <td class="numeric"></td>
                                        <td class="numeric">2</td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric">4</td>
                                    </tr>
                                    <tr>
                                        <td rowspan="2" class="client-name">ACC RMC  Gajuwaka</td>
                                        <td>Total Tonnage (MT)</td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric">22.80</td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric">22.80</td>
                                    </tr>
                                    <tr class="trips-row">
                                        <td>Total Trips</td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric">1</td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric">1</td>
                                    </tr>
                                    <tr>
                                        <td rowspan="2" class="client-name">Prasant Maravaram</td>
                                        <td>Total Tonnage (MT)</td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric">5.20</td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric">5.20</td>
                                    </tr>
                                    <tr class="trips-row">
                                        <td>Total Trips</td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric">1</td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric">1</td>
                                    </tr>
                                    <tr>
                                        <td rowspan="2" class="client-name">MK Builders  Madhurwada</td>
                                        <td>Total Tonnage (MT)</td>
                                        <td class="numeric">41.06</td>
                                        <td class="numeric"></td>
                                        <td class="numeric">41.27</td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric">82.33</td>
                                    </tr>
                                    <tr class="trips-row">
                                        <td>Total Trips</td>
                                        <td class="numeric">1</td>
                                        <td class="numeric"></td>
                                        <td class="numeric">1</td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric">2</td>
                                    </tr>
                                    <tr>
                                        <td rowspan="2" class="client-name">Prasad Makavaram</td>
                                        <td>Total Tonnage (MT)</td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric">6.11</td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric">6.11</td>
                                    </tr>
                                    <tr class="trips-row">
                                        <td>Total Trips</td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric">1</td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric"></td>
                                        <td class="numeric">1</td>
                                    </tr>
                                    <tr class="total-row">
                                        <td>GRAND TOTAL (TONNAGE)</td>
                                        <td>MT</td>
                                        <td class="numeric">141.02</td>
                                        <td class="numeric">0.00</td>
                                        <td class="numeric">131.77</td>
                                        <td class="numeric">11.31</td>
                                        <td class="numeric">6.11</td>
                                        <td class="numeric">0.00</td>
                                        <td class="numeric">0.00</td>
                                        <td class="numeric">0.00</td>
                                        <td class="numeric">284.10</td>
                                    </tr>
                                    <tr class="trips-row">
                                        <td>TOTAL TRIPS</td>
                                        <td>Trips</td>
                                        <td class="numeric">3</td>
                                        <td class="numeric">0</td>
                                        <td class="numeric">4</td>
                                        <td class="numeric">2</td>
                                        <td class="numeric">1</td>
                                        <td class="numeric">0</td>
                                        <td class="numeric">0</td>
                                        <td class="numeric">0</td>
                                        <td class="numeric">9</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Dispatched Details (Date-wise) -->
                    <div class="dispatch-section">
                        <div class="dispatch-section-header green">
                            <span><i class="fas fa-calendar-day"></i> Dispatched Details (Date-wise) - December 2025</span>
                            <span class="dispatch-total-badge">Total: 13311.93 MT</span>
                        </div>
                        <div class="dispatch-table-container">
                            <table class="dispatch-table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>10 MM</th>
                                        <th>20 MM</th>
                                        <th>V/SAND</th>
                                        <th>Scalping</th>
                                        <th>P/Sand</th>
                                        <th>40 MM</th>
                                        <th>50 MM</th>
                                        <th>GSB/WET MIX</th>
                                        <th>R/Sand</th>
                                        <th>TOTAL</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr><td class="date">1-Dec-2025</td><td class="numeric">148.88</td><td class="numeric">126.90</td><td class="numeric">62.94</td><td class="numeric">28.70</td><td class="numeric">3.99</td><td class="numeric">62.25</td><td class="numeric">60.88</td><td class="numeric">53.93</td><td class="numeric">15.93</td><td class="numeric highlight">564.40</td></tr>
                                    <tr><td class="date">2-Dec-2025</td><td class="numeric">83.00</td><td class="numeric">108.44</td><td class="numeric">7.12</td><td class="numeric">78.99</td><td class="numeric">198.38</td><td class="numeric">86.87</td><td class="numeric">60.01</td><td class="numeric">82.21</td><td class="numeric">41.86</td><td class="numeric highlight">746.88</td></tr>
                                    <tr><td class="date">3-Dec-2025</td><td class="numeric">110.86</td><td class="numeric">118.24</td><td class="numeric">109.82</td><td class="numeric">47.53</td><td class="numeric">70.05</td><td class="numeric">67.19</td><td class="numeric">51.29</td><td class="numeric">47.65</td><td class="numeric">69.98</td><td class="numeric highlight">692.61</td></tr>
                                    <tr><td class="date">4-Dec-2025</td><td class="numeric">114.29</td><td class="numeric">95.97</td><td class="numeric">112.97</td><td class="numeric">66.70</td><td class="numeric">76.65</td><td class="numeric">96.59</td><td class="numeric">4.19</td><td class="numeric">115.78</td><td class="numeric">105.35</td><td class="numeric highlight">788.49</td></tr>
                                    <tr><td class="date">5-Dec-2025</td><td class="numeric">98.26</td><td class="numeric">68.08</td><td class="numeric">107.19</td><td class="numeric">70.67</td><td class="numeric">147.01</td><td class="numeric">41.17</td><td class="numeric">70.62</td><td class="numeric">132.15</td><td class="numeric">40.79</td><td class="numeric highlight">775.94</td></tr>
                                    <tr><td class="date">6-Dec-2025</td><td class="numeric">13.58</td><td class="numeric">176.39</td><td class="numeric">120.18</td><td class="numeric">20.45</td><td class="numeric">155.58</td><td class="numeric">49.91</td><td class="numeric">41.12</td><td class="numeric">33.86</td><td class="numeric">1.27</td><td class="numeric highlight">612.34</td></tr>
                                    <tr><td class="date">7-Dec-2025</td><td class="numeric">51.65</td><td class="numeric">62.61</td><td class="numeric">85.37</td><td class="numeric">59.78</td><td class="numeric">47.53</td><td class="numeric">26.43</td><td class="numeric">72.93</td><td class="numeric">106.40</td><td class="numeric">93.35</td><td class="numeric highlight">606.05</td></tr>
                                    <tr><td class="date">8-Dec-2025</td><td class="numeric">159.86</td><td class="numeric">149.99</td><td class="numeric">0.10</td><td class="numeric">36.71</td><td class="numeric">104.98</td><td class="numeric">36.26</td><td class="numeric">76.25</td><td class="numeric">123.60</td><td class="numeric">26.83</td><td class="numeric highlight">714.58</td></tr>
                                    <tr><td class="date">9-Dec-2025</td><td class="numeric">0.84</td><td class="numeric">134.03</td><td class="numeric">17.16</td><td class="numeric">78.12</td><td class="numeric">48.27</td><td class="numeric">104.56</td><td class="numeric">53.68</td><td class="numeric">75.39</td><td class="numeric">48.61</td><td class="numeric highlight">560.66</td></tr>
                                    <tr><td class="date">10-Dec-2025</td><td class="numeric">66.93</td><td class="numeric">162.20</td><td class="numeric">101.42</td><td class="numeric">79.22</td><td class="numeric">145.04</td><td class="numeric">75.36</td><td class="numeric">78.37</td><td class="numeric">87.30</td><td class="numeric">61.68</td><td class="numeric highlight">857.52</td></tr>
                                    <tr><td class="date">11-Dec-2025</td><td class="numeric">54.31</td><td class="numeric">174.60</td><td class="numeric">127.15</td><td class="numeric">83.31</td><td class="numeric">54.59</td><td class="numeric">80.22</td><td class="numeric">74.11</td><td class="numeric">55.95</td><td class="numeric">104.16</td><td class="numeric highlight">808.40</td></tr>
                                    <tr><td class="date">12-Dec-2025</td><td class="numeric">165.11</td><td class="numeric">95.14</td><td class="numeric">118.16</td><td class="numeric">89.56</td><td class="numeric">112.64</td><td class="numeric">55.07</td><td class="numeric">12.39</td><td class="numeric">18.01</td><td class="numeric">101.83</td><td class="numeric highlight">767.91</td></tr>
                                    <tr><td class="date">13-Dec-2025</td><td class="numeric">66.32</td><td class="numeric">129.47</td><td class="numeric">16.99</td><td class="numeric">94.30</td><td class="numeric">41.03</td><td class="numeric">76.20</td><td class="numeric">19.16</td><td class="numeric">107.90</td><td class="numeric">7.27</td><td class="numeric highlight">558.64</td></tr>
                                    <tr><td class="date">14-Dec-2025</td><td class="numeric">13.76</td><td class="numeric">165.07</td><td class="numeric">64.90</td><td class="numeric">96.09</td><td class="numeric">162.79</td><td class="numeric">118.98</td><td class="numeric">84.80</td><td class="numeric">71.93</td><td class="numeric">65.14</td><td class="numeric highlight">843.46</td></tr>
                                    <tr><td class="date">15-Dec-2025</td><td class="numeric">152.02</td><td class="numeric">92.44</td><td class="numeric">91.93</td><td class="numeric">18.42</td><td class="numeric">170.59</td><td class="numeric">2.12</td><td class="numeric">24.70</td><td class="numeric">31.17</td><td class="numeric">67.96</td><td class="numeric highlight">651.35</td></tr>
                                    <tr><td class="date">16-Dec-2025</td><td class="numeric">117.10</td><td class="numeric">64.32</td><td class="numeric">53.00</td><td class="numeric">76.79</td><td class="numeric">227.24</td><td class="numeric">108.55</td><td class="numeric">65.35</td><td class="numeric">130.10</td><td class="numeric">84.19</td><td class="numeric highlight">926.64</td></tr>
                                    <tr><td class="date">17-Dec-2025</td><td class="numeric">94.44</td><td class="numeric">166.03</td><td class="numeric">132.80</td><td class="numeric">62.05</td><td class="numeric">46.45</td><td class="numeric">52.32</td><td class="numeric">7.52</td><td class="numeric">77.70</td><td class="numeric">88.61</td><td class="numeric highlight">727.92</td></tr>
                                    <tr><td class="date">18-Dec-2025</td><td class="numeric">69.06</td><td class="numeric">46.77</td><td class="numeric">46.70</td><td class="numeric">16.13</td><td class="numeric">96.27</td><td class="numeric">36.11</td><td class="numeric">57.85</td><td class="numeric">51.80</td><td class="numeric">93.76</td><td class="numeric highlight">514.45</td></tr>
                                    <tr><td class="date">19-Dec-2025</td><td class="numeric">45.34</td><td class="numeric">40.03</td><td class="numeric">73.57</td><td class="numeric">41.04</td><td class="numeric">198.01</td><td class="numeric">93.64</td><td class="numeric">34.75</td><td class="numeric">52.94</td><td class="numeric">14.37</td><td class="numeric highlight">593.69</td></tr>
                                    <tr class="grand-total-row">
                                        <td>Total</td>
                                        <td class="numeric">1625.61</td>
                                        <td class="numeric">2176.72</td>
                                        <td class="numeric">1449.47</td>
                                        <td class="numeric">1144.56</td>
                                        <td class="numeric">2107.09</td>
                                        <td class="numeric">1269.80</td>
                                        <td class="numeric">949.97</td>
                                        <td class="numeric">1455.77</td>
                                        <td class="numeric">1132.94</td>
                                        <td class="numeric">13311.93</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Customer Wise Cumulative Dispatched Details -->
                    <div class="dispatch-section">
                        <div class="dispatch-section-header light-green">
                            <span><i class="fas fa-users"></i> DECEMBER-2025  Customer Wise Cumulative Dispatched Details</span>
                            <span class="dispatch-total-badge">Total Customers: 5</span>
                        </div>
                        <div class="dispatch-table-container">
                            <table class="dispatch-table">
                                <thead>
                                    <tr>
                                        <th>Customer Name</th>
                                        <th>10 MM</th>
                                        <th>20 MM</th>
                                        <th>V/SAND</th>
                                        <th>Scalping</th>
                                        <th>P/Sand</th>
                                        <th>40 MM</th>
                                        <th>50 MM</th>
                                        <th>GSB/WET MIX</th>
                                        <th>R/Sand</th>
                                        <th>TOTAL</th>
                                        <th>Customer-wise Dispatch Participation (%)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="client-name">Construction Corp A</td>
                                        <td class="numeric">263.02</td>
                                        <td class="numeric">739.75</td>
                                        <td class="numeric">778.30</td>
                                        <td class="numeric">722.42</td>
                                        <td class="numeric">2436.62</td>
                                        <td class="numeric">893.53</td>
                                        <td class="numeric">116.86</td>
                                        <td class="numeric">315.18</td>
                                        <td class="numeric">847.68</td>
                                        <td class="numeric">7113.36</td>
                                        <td class="numeric">20.21%</td>
                                    </tr>
                                    <tr>
                                        <td class="client-name">Infra Builders Ltd</td>
                                        <td class="numeric">862.98</td>
                                        <td class="numeric">299.97</td>
                                        <td class="numeric">1430.21</td>
                                        <td class="numeric">145.06</td>
                                        <td class="numeric">2142.76</td>
                                        <td class="numeric">839.20</td>
                                        <td class="numeric">438.87</td>
                                        <td class="numeric">673.59</td>
                                        <td class="numeric">563.23</td>
                                        <td class="numeric">7395.87</td>
                                        <td class="numeric">21.02%</td>
                                    </tr>
                                    <tr>
                                        <td class="client-name">Mega Projects Inc</td>
                                        <td class="numeric">1098.50</td>
                                        <td class="numeric">382.03</td>
                                        <td class="numeric">1521.09</td>
                                        <td class="numeric">361.27</td>
                                        <td class="numeric">1454.64</td>
                                        <td class="numeric">674.30</td>
                                        <td class="numeric">150.20</td>
                                        <td class="numeric">1133.48</td>
                                        <td class="numeric">731.92</td>
                                        <td class="numeric">7507.43</td>
                                        <td class="numeric">21.33%</td>
                                    </tr>
                                    <tr>
                                        <td class="client-name">Roadways Const. Co.</td>
                                        <td class="numeric">859.82</td>
                                        <td class="numeric">832.52</td>
                                        <td class="numeric">334.75</td>
                                        <td class="numeric">576.95</td>
                                        <td class="numeric">321.41</td>
                                        <td class="numeric">198.87</td>
                                        <td class="numeric">598.30</td>
                                        <td class="numeric">641.10</td>
                                        <td class="numeric">550.89</td>
                                        <td class="numeric">4914.61</td>
                                        <td class="numeric">13.97%</td>
                                    </tr>
                                    <tr>
                                        <td class="client-name">Urban Developers</td>
                                        <td class="numeric">1106.61</td>
                                        <td class="numeric">1110.79</td>
                                        <td class="numeric">1422.60</td>
                                        <td class="numeric">693.18</td>
                                        <td class="numeric">1273.77</td>
                                        <td class="numeric">386.82</td>
                                        <td class="numeric">272.17</td>
                                        <td class="numeric">1085.55</td>
                                        <td class="numeric">910.84</td>
                                        <td class="numeric">8262.33</td>
                                        <td class="numeric">23.48%</td>
                                    </tr>
                                    <tr class="total-row">
                                        <td>Total</td>
                                        <td class="numeric">4190.93</td>
                                        <td class="numeric">3365.06</td>
                                        <td class="numeric">5486.95</td>
                                        <td class="numeric">2498.88</td>
                                        <td class="numeric">7629.20</td>
                                        <td class="numeric">2992.72</td>
                                        <td class="numeric">1576.40</td>
                                        <td class="numeric">3848.90</td>
                                        <td class="numeric">3604.56</td>
                                        <td class="numeric">35193.60</td>
                                        <td class="numeric">100.00%</td>
                                    </tr>
                                    <tr class="total-row">
                                        <td>Material Wise (%) Participation</td>
                                        <td class="numeric">11.91%</td>
                                        <td class="numeric">9.56%</td>
                                        <td class="numeric">15.59%</td>
                                        <td class="numeric">7.10%</td>
                                        <td class="numeric">21.68%</td>
                                        <td class="numeric">8.50%</td>
                                        <td class="numeric">4.48%</td>
                                        <td class="numeric">10.94%</td>
                                        <td class="numeric">10.24%</td>
                                        <td class="numeric">100.00%</td>
                                        <td class="numeric">-</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for FTD/MTD MIS with side-by-side reports - Increased by 60% -->
    <div id="ftd-mtd-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-chart-line"></i> FTD / MTD MIS Reports</h2>
                <button class="close-btn" onclick="closeModal('ftd-mtd-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="reports-container">
                    <div class="report-card" onclick="openZoomModal('FTD/MTD Report', 'https://raw.githubusercontent.com/bimal-bp/Live_Operation/main/WhatsApp%20Image%202025-12-16%20at%201.47.45%20PM.jpeg')">
                        <div class="report-header">FTD/MTD Report</div>
                        <img src="https://raw.githubusercontent.com/bimal-bp/Live_Operation/main/WhatsApp%20Image%202025-12-16%20at%201.47.45%20PM.jpeg" alt="FTD/MTD Report" class="report-image">
                        <div class="report-footer">Click to view in full size</div>
                    </div>
                    <div class="report-card" onclick="openZoomModal('Target Wise Report', '')">
                        <div style="padding: 20px;">
                            <div style="text-align: center; margin-bottom: 20px;">
                                <h3 style="color: #1e3a8a; margin-bottom: 10px;">Target Wise Performance Dashboard</h3>
                                <p style="color: #666; font-size: 0.9rem;">Comprehensive performance analysis across all operations</p>
                            </div>
                            <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', system-ui, -apple-system, Arial, sans-serif;
            background: #f4f6f9;
            padding: 20px;
            color: #2d3748;
        }
        .dashboard-container {
            max-width: 1600px;
            margin: 0 auto;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }
        .dashboard-header {
            background: linear-gradient(to right, #1e3a8a, #3b82f6);
            color: white;
            padding: 20px 30px;
            text-align: center;
        }
        .dashboard-header h1 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        .dashboard-header p {
            font-size: 14px;
            opacity: 0.9;
        }
        .dashboard-body {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            padding: 30px;
        }
        .machinery-section {
            grid-column: 1 / span 3;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            margin-top: 10px;
        }
        .section-title {
            grid-column: 1 / span 3;
            font-size: 20px;
            font-weight: 700;
            color: #1e293b;
            padding-bottom: 10px;
            border-bottom: 3px solid #3b82f6;
            margin-bottom: 10px;
        }
        .card {
            background: #ffffff;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            height: 430px;
            border: 2px solid #e2e8f0;
        }
        .card:hover {
            transform: translateY(-6px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
            border-color: #cbd5e1;
        }
        .card-content {
            padding: 20px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        .card-title {
            font-size: 18px;
            font-weight: 700;
            color: #1e293b;
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid #e2e8f0;
        }
        /* Performance Summary Table */
        .metric-table {
            width: 100%;
            border-collapse: collapse;
        }
        .metric-table th {
            text-align: center;
            font-weight: 700;
            color: #1e293b;
            padding: 12px 8px;
            font-size: 16px;
            border-bottom: 1px solid #e2e8f0;
        }
        .metric-table th.ftd { color: #ea580c; }
        .metric-table th.mtd { color: #1e40af; }
        .metric-table td {
            text-align: center;
            padding: 16px 8px;
            font-size: 18px;
            font-weight: 600;
            border-bottom: 1px solid #f1f5f9;
            color: #2d3748;
        }
        .metric-table tr:last-child td { border-bottom: none; }
        .value-large { font-size: 22px; font-weight: 700; }
        .gap-value {
            color: #dc2626;
            font-weight: 700;
        }
        .gap-percentage {
            font-size: 14px;
            font-weight: 500;
            color: #9ca3af;
            margin-left: 4px;
        }
        .separator-row {
            border-top: 2px dashed #e2e8f0;
        }
        /* Completion Line */
        .completion-line {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
            font-size: 18px;
            font-weight: 700;
        }
        .completion-label {
            min-width: 120px;
            text-align: right;
        }
        .completion-ftd { color: #ea580c; }
        .completion-mtd { color: #1e40af; }
        .completion-arrow {
            font-size: 30px;
            color: #64748b;
            margin: 0 10px;
        }
        .completion-value {
            min-width: 120px;
            text-align: left;
        }
        /* Combined Graphs Card */
        .combined-graphs {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: auto;
            padding: 10px 0;
        }
        .graph-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex: 1;
            min-width: 160px;
        }
        /* Donut Chart - Animated */
        .donut-container {
            position: relative;
            width: 170px;
            height: 170px;
            margin: 0 auto 15px;
        }
        .donut-chart {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            transition: transform 0.4s ease;
            background: conic-gradient(#e2e8f0 0% 100%);
            animation: fillDonut 1.5s ease-out forwards;
            transform: rotate(-90deg);
            transform-origin: center;
        }
        @keyframes fillDonut {
            from { transform: rotate(-90deg) scale(0.95); opacity: 0.8; }
            to { transform: rotate(-90deg) scale(1); opacity: 1; }
        }
        .card:hover .donut-chart { 
            transform: rotate(-75deg);
            filter: brightness(1.1);
        }
        .donut-hole {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 100px; height: 100px;
            background: white;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: inset 0 4px 10px rgba(0,0,0,0.05);
            animation: popIn 0.6s ease-out 0.8s both;
        }
        @keyframes popIn {
            from { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
            to { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }
        .donut-center-value {
            font-size: 22px;
            font-weight: 700;
            line-height: 1.2;
            animation: fadeInUp 0.5s ease-out 1.2s both;
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .donut-center-label {
            font-size: 13px;
            color: #64748b;
            margin-top: 4px;
            animation: fadeInUp 0.5s ease-out 1.4s both;
        }
        /* Bar Graph - Animated */
        .bar-container {
            display: flex;
            align-items: flex-end;
            gap: 35px;
            height: 140px;
            margin-bottom: 15px;
            justify-content: center;
        }
        .bar {
            width: 60px;
            border-radius: 6px 6px 0 0;
            position: relative;
            transform-origin: bottom;
            animation: growBar 1s ease-out forwards;
            transform: scaleY(0);
        }
        @keyframes growBar {
            to { transform: scaleY(1); }
        }
        .bar:nth-child(1) { animation-delay: 0.3s; }
        .bar:nth-child(2) { animation-delay: 0.6s; }
        .card:hover .bar { 
            transform: scaleY(1.1);
            filter: brightness(1.15);
        }
        .bar-value {
            position: absolute;
            top: -30px;
            left: 0; right: 0;
            font-size: 16px;
            font-weight: 700;
            text-align: center;
            color: #1e293b;
            opacity: 0;
            animation: fadeInDown 0.5s ease-out 1s forwards;
        }
        @keyframes fadeInDown {
            to { opacity: 1; top: -30px; }
        }
        .bar-label {
            margin-top: 8px;
            font-size: 14px;
            color: #475569;
            text-align: center;
            opacity: 0;
            animation: fadeIn 0.5s ease-out 1.2s forwards;
        }
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        .graph-label {
            margin-top: 10px;
            font-size: 16px;
            font-weight: 600;
            text-align: center;
            opacity: 0;
            animation: fadeIn 0.5s ease-out 1.4s forwards;
        }
        .ftd-label { color: #ea580c; }
        .mtd-label { color: #1e40af; }
        /* Compressor Specific Colors */
        .compressor-ftd { color: #059669; }
        .compressor-mtd { color: #0d9488; }
        /* Machinery Data Styles - Box 1 & 2 */
        .machinery-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        .machinery-table th {
            text-align: center;
            font-weight: 700;
            padding: 14px 5px;
            font-size: 15px;
            background-color: #f8fafc;
            border-bottom: 2px solid #e2e8f0;
            opacity: 0;
            animation: slideInLeft 0.5s ease-out forwards;
        }
        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .machinery-table th:nth-child(1) { animation-delay: 0.1s; }
        .machinery-table th:nth-child(2) { animation-delay: 0.2s; }
        .machinery-table th:nth-child(3) { animation-delay: 0.3s; }
        .machinery-table th:nth-child(4) { animation-delay: 0.4s; }
        
        .machinery-table td {
            text-align: center;
            padding: 16px 5px;
            font-size: 17px;
            font-weight: 600;
            border-bottom: 1px solid #f1f5f9;
            opacity: 0;
            animation: fadeInRow 0.5s ease-out forwards;
        }
        @keyframes fadeInRow {
            to { opacity: 1; }
        }
        .machinery-table tr:nth-child(1) td { animation-delay: 0.5s; }
        .machinery-table tr:nth-child(2) td { animation-delay: 0.7s; }
        .machinery-table tr:nth-child(3) td { animation-delay: 0.9s; }
        
        .machinery-table tr:last-child td {
            border-bottom: none;
        }
        .day-header { background-color: #dbeafe; color: #1e40af; }
        .night-header { background-color: #1e293b; color: white; }
        .availability-header { background-color: #f0f9ff; color: #0c4a6e; }
        .machinery-name {
            text-align: left;
            padding-left: 15px !important;
            font-weight: 700;
            color: #1e293b;
        }
        .availability-cell {
            font-weight: 700;
            font-size: 18px;
        }
        .tipper-availability { color: #3b82f6; }
        .excavator-availability { color: #10b981; }
        .loader-availability { color: #f59e0b; }
       
        /* Machinery Box 3 - Horizontal Bar Chart - Enhanced Animation */
        .availability-bar-chart {
            display: flex;
            flex-direction: column;
            gap: 35px;
            margin-top: 30px;
            padding: 0 10px;
            height: 280px;
            justify-content: center;
        }
        .availability-bar-item {
            display: flex;
            align-items: center;
            gap: 20px;
            opacity: 0;
            animation: slideInRight 0.6s ease-out forwards;
        }
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .availability-bar-item:nth-child(1) { animation-delay: 0.3s; }
        .availability-bar-item:nth-child(2) { animation-delay: 0.6s; }
        .availability-bar-item:nth-child(3) { animation-delay: 0.9s; }
        
        .availability-label {
            width: 100px;
            font-weight: 700;
            font-size: 17px;
            text-align: right;
        }
        .availability-bar-container {
            flex: 1;
            height: 35px;
            background-color: #f1f5f9;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }
        .availability-bar-fill {
            height: 100%;
            border-radius: 8px;
            transition: width 1.5s ease, filter 0.3s ease;
            width: 0;
            transform-origin: left;
            animation: pulseGlow 2s infinite alternate;
        }
        @keyframes pulseGlow {
            0% { filter: brightness(1); }
            100% { filter: brightness(1.1); }
        }
        .card:hover .availability-bar-fill {
            animation: pulseGlow 0.8s infinite alternate;
        }
        .availability-percentage {
            width: 65px;
            font-weight: 800;
            font-size: 20px;
            text-align: left;
            opacity: 0;
            animation: fadeIn 0.5s ease-out 1.5s forwards;
        }
        .availability-note {
            margin-top: 20px;
            font-size: 13px;
            color: #6b7280;
            text-align: center;
            font-style: italic;
            padding-top: 10px;
            border-top: 1px dashed #e5e7eb;
        }
        .machinery-stats {
            margin-top: 15px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            font-size: 15px;
            color: #475569;
        }
        .machinery-stats div {
            display: flex;
            justify-content: space-between;
            padding: 5px 10px;
            background-color: #f8fafc;
            border-radius: 6px;
            opacity: 0;
            animation: fadeInUp 0.5s ease-out forwards;
        }
        .machinery-stats div:nth-child(1) { animation-delay: 1s; }
        .machinery-stats div:nth-child(2) { animation-delay: 1.2s; }
        .machinery-stats div:nth-child(3) { animation-delay: 1.4s; }
        
        .machinery-stats span:first-child {
            font-weight: 600;
            color: #1e293b;
        }
        .machinery-stats span:last-child {
            font-weight: 700;
        }
        /* Center graph content in cards */
        .card:nth-child(2) .card-content,
        .card:nth-child(3) .card-content {
            justify-content: space-between;
        }
       
        /* Boulder Transport & Plant Section */
        .boulder-plant-section {
            grid-column: 1 / span 3;
            margin-top: 10px;
        }
        .boulder-plant-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
        }
        .boulder-plant-card {
            background: #ffffff;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            height: 460px;
            display: flex;
            flex-direction: column;
            font-family: Calibri, Arial, sans-serif;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }
        .boulder-plant-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
        }
        .boulder-plant-title {
            background: #f8fafc;
            padding: 18px;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            color: #1e293b;
            border-bottom: 2px solid #e2e8f0;
        }
        .boulder-plant-content {
            padding: 20px;
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        /* Data Tables - Updated Modern Styles with Animation */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
            background: #ffffff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.04);
            opacity: 0;
            animation: fadeIn 0.8s ease-out forwards;
        }
        .data-table:first-of-type { animation-delay: 0.3s; }
        .data-table:last-of-type { animation-delay: 0.6s; }
        
        .data-table:last-child {
            margin-bottom: 0;
        }
        .data-table th {
            padding: 16px 12px;
            font-weight: 700;
            text-align: center;
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            color: #1e293b;
            font-size: 15px;
            letter-spacing: 0.5px;
            border: none;
            position: relative;
            opacity: 0;
            animation: fadeInUp 0.5s ease-out forwards;
        }
        .data-table th:nth-child(1) { animation-delay: 0.4s; }
        .data-table th:nth-child(2) { animation-delay: 0.5s; }
        .data-table th:nth-child(3) { animation-delay: 0.6s; }
        
        .data-table th:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 10%;
            right: 10%;
            height: 2px;
            background: linear-gradient(to right, transparent, #3b82f6, transparent);
            animation: expandLine 0.8s ease-out 0.8s forwards;
            transform: scaleX(0);
            transform-origin: center;
        }
        @keyframes expandLine {
            to { transform: scaleX(1); }
        }
        .data-table td {
            padding: 16px 12px;
            text-align: center;
            font-size: 16px;
            font-weight: 600;
            color: #334155;
            border: none;
            transition: background-color 0.2s ease;
            opacity: 0;
            animation: fadeInRow 0.5s ease-out forwards;
        }
        .data-table tbody tr:nth-child(1) td { animation-delay: 0.7s; }
        .data-table tbody tr:nth-child(2) td { animation-delay: 0.9s; }
        
        .data-table tbody tr:hover td {
            background-color: #f8fafc;
            transform: scale(1.02);
            transition: all 0.2s ease;
        }
        .data-table tbody tr:nth-child(even) {
            background-color: #fafafa;
        }
        .data-table-title {
            font-size: 17px;
            font-weight: 700;
            margin-bottom: 15px;
            color: #1e293b;
            text-align: center;
            padding: 10px 0;
            border-radius: 6px;
            background: linear-gradient(to right, #f8fafc, #f1f5f9);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            position: relative;
            opacity: 0;
            animation: slideInDown 0.5s ease-out forwards;
        }
        @keyframes slideInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .data-table-title:before {
            content: '';
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            bottom: -3px;
            width: 50px;
            height: 3px;
            background: linear-gradient(to right, #3b82f6, #10b981);
            border-radius: 3px;
            animation: expandLine 0.8s ease-out 0.3s forwards;
            transform: translateX(-50%) scaleX(0);
            transform-origin: center;
        }
        .data-table-title:nth-of-type(1) { animation-delay: 0.1s; }
        .data-table-title:nth-of-type(2) { animation-delay: 0.4s; }
        
        /* UPDATED: Boulder Transport Chart - Corrected Grouping with Footer */
        .boulder-chart-container {
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            height: 180px;
            margin: 20px 0;
            padding: 0 10px;
        }
        .boulder-chart-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            opacity: 0;
            animation: fadeInUp 0.6s ease-out forwards;
        }
        .boulder-chart-group:nth-child(1) { animation-delay: 0.3s; }
        .boulder-chart-group:nth-child(2) { animation-delay: 0.6s; }
        
        .boulder-chart-group-label {
            font-size: 14px;
            font-weight: 700;
            color: #374151;
            margin-bottom: 10px;
            padding: 4px 10px;
            background: #f8fafc;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
        }
        .boulder-chart-bars {
            display: flex;
            align-items: flex-end;
            gap: 8px;
            height: 140px;
            margin-bottom: 8px;
        }
        .boulder-chart-bar {
            width: 35px;
            border-radius: 4px 4px 0 0;
            position: relative;
            transform-origin: bottom;
            animation: growBarVertical 0.8s ease-out forwards;
            transform: scaleY(0);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        @keyframes growBarVertical {
            to { transform: scaleY(1); }
        }
        
        /* FTD Bars - Blue Colors */
        .boulder-chart-bar.ftd-achieved {
            background: linear-gradient(to top, #1e40af, #3b82f6);
            animation-delay: 0.4s;
        }
        .boulder-chart-bar.ftd-gap {
            background: linear-gradient(to top, #60a5fa, #93c5fd);
            animation-delay: 0.5s;
        }
        
        /* MTD Bars - Orange Colors */
        .boulder-chart-bar.mtd-achieved {
            background: linear-gradient(to top, #ea580c, #f97316);
            animation-delay: 0.7s;
        }
        .boulder-chart-bar.mtd-gap {
            background: linear-gradient(to top, #fb923c, #fdba74);
            animation-delay: 0.8s;
        }
        
        .boulder-chart-bar-value {
            position: absolute;
            top: -25px;
            left: 0;
            right: 0;
            font-size: 12px;
            font-weight: bold;
            text-align: center;
            color: #1f2937;
            opacity: 0;
            animation: fadeInDown 0.5s ease-out 1s forwards;
        }
        
        /* Boulder Chart Footer - Enhanced */
        .boulder-chart-footer {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 2px dashed #e5e7eb;
            opacity: 0;
            animation: fadeIn 0.5s ease-out 1.2s forwards;
        }
        .footer-section {
            text-align: center;
            padding: 0 10px;
        }
        .footer-title {
            font-size: 13px;
            font-weight: 600;
            color: #6b7280;
            margin-bottom: 5px;
        }
        .footer-value {
            font-size: 16px;
            font-weight: 700;
            color: #1f2937;
        }
        .footer-value.ftd { color: #1e40af; }
        .footer-value.mtd { color: #ea580c; }
        
        .boulder-chart-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            font-size: 13px;
            opacity: 0;
            animation: fadeIn 0.5s ease-out 1s forwards;
        }
        .boulder-chart-legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            opacity: 0;
            animation: fadeInUp 0.5s ease-out forwards;
        }
        .boulder-chart-legend-item:nth-child(1) { animation-delay: 1.1s; }
        .boulder-chart-legend-item:nth-child(2) { animation-delay: 1.3s; }
        .boulder-chart-legend-item:nth-child(3) { animation-delay: 1.5s; }
        .boulder-chart-legend-item:nth-child(4) { animation-delay: 1.7s; }
        
        .boulder-chart-legend-color {
            width: 14px;
            height: 14px;
            border-radius: 3px;
        }
        .legend-ftd-achieved { background: linear-gradient(135deg, #1e40af, #3b82f6); }
        .legend-ftd-gap { background: linear-gradient(135deg, #60a5fa, #93c5fd); }
        .legend-mtd-achieved { background: linear-gradient(135deg, #ea580c, #f97316); }
        .legend-mtd-gap { background: linear-gradient(135deg, #fb923c, #fdba74); }
        
        /* Plant Report Chart - Updated with side-by-side grouping and Animation */
        .plant-chart-container {
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            height: 220px;
            margin: 20px 0;
            padding: 0 15px;
            gap: 25px;
        }
        .plant-chart-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            opacity: 0;
            animation: fadeInUp 0.6s ease-out forwards;
        }
        .plant-chart-group:nth-child(1) { animation-delay: 0.3s; }
        .plant-chart-group:nth-child(2) { animation-delay: 0.6s; }
        
        .plant-chart-bars {
            display: flex;
            gap: 15px;
            align-items: flex-end;
            height: 160px;
        }
        .plant-chart-bar {
            width: 55px;
            border-radius: 4px 4px 0 0;
            position: relative;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            transform-origin: bottom;
            animation: growBarVertical 0.8s ease-out forwards;
            transform: scaleY(0);
        }
        .plant-chart-bar.ftd { 
            background: linear-gradient(to top, #f59e0b, #fbbf24);
            animation-delay: 0.4s;
        }
        .plant-chart-bar.ftd-gap { 
            background: linear-gradient(to top, #fb923c, #fdba74);
            animation-delay: 0.5s;
        }
        .plant-chart-bar.mtd { 
            background: linear-gradient(to top, #1e40af, #3b82f6);
            animation-delay: 0.7s;
        }
        .plant-chart-bar.mtd-gap { 
            background: linear-gradient(to top, #3b82f6, #60a5fa);
            animation-delay: 0.8s;
        }
        .plant-chart-bar-value {
            position: absolute;
            top: -28px;
            left: 0;
            right: 0;
            font-size: 13px;
            font-weight: bold;
            text-align: center;
            color: #1f2937;
            opacity: 0;
            animation: fadeInDown 0.5s ease-out 1s forwards;
        }
        .plant-chart-category {
            font-size: 15px;
            font-weight: bold;
            color: #374151;
            text-align: center;
            margin-top: 10px;
            opacity: 0;
            animation: fadeIn 0.5s ease-out 1.2s forwards;
        }
        .plant-chart-group-label {
            font-size: 16px;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 10px;
            padding: 5px 15px;
            background: #f8fafc;
            border-radius: 20px;
            border: 1px solid #e2e8f0;
            opacity: 0;
            animation: fadeInDown 0.5s ease-out 0.2s forwards;
        }
        /* Graph Grid Lines for Professional Look */
        .graph-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            background-image: 
                linear-gradient(to right, rgba(0,0,0,0.05) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(0,0,0,0.05) 1px, transparent 1px);
            background-size: 20px 20px;
            opacity: 0;
            animation: fadeIn 0.8s ease-out 0.5s forwards;
        }
        /* Add subtle animation to all cards on load */
        .card, .boulder-plant-card {
            opacity: 0;
            transform: translateY(20px);
            animation: cardEntrance 0.6s ease-out forwards;
        }
        @keyframes cardEntrance {
            to { opacity: 1; transform: translateY(0); }
        }
        /* Stagger the card animations */
        .card:nth-child(1) { animation-delay: 0.1s; }
        .card:nth-child(2) { animation-delay: 0.2s; }
        .card:nth-child(3) { animation-delay: 0.3s; }
        .machinery-section .card:nth-child(1) { animation-delay: 0.4s; }
        .machinery-section .card:nth-child(2) { animation-delay: 0.5s; }
        .machinery-section .card:nth-child(3) { animation-delay: 0.6s; }
        .boulder-plant-card:nth-child(1) { animation-delay: 0.7s; }
        .boulder-plant-card:nth-child(2) { animation-delay: 0.8s; }
        .boulder-plant-card:nth-child(3) { animation-delay: 0.9s; }
        
        /* Add hover effects to graphs */
        .donut-chart:hover,
        .bar:hover,
        .boulder-chart-bar:hover,
        .plant-chart-bar:hover,
        .availability-bar-fill:hover {
            filter: brightness(1.15);
            transform: scale(1.05);
            transition: all 0.2s ease;
        }
        /* Responsiveness */
        @media (max-width: 1200px) {
            .dashboard-body, .machinery-section, .boulder-plant-container {
                grid-template-columns: 1fr;
            }
            .section-title {
                grid-column: 1;
            }
            .boulder-plant-section {
                grid-column: 1;
            }
        }
        @media (max-width: 768px) {
            .combined-graphs { flex-direction: column; }
            .completion-line { flex-direction: column; gap: 15px; }
            .completion-arrow { transform: rotate(90deg); }
            .donut-container { width: 150px; height: 150px; }
            .donut-hole { width: 90px; height: 90px; }
            .availability-bar-chart {
                gap: 25px;
                height: 250px;
            }
            .boulder-chart-container {
                flex-direction: column;
                align-items: center;
                height: auto;
                gap: 25px;
            }
            .boulder-chart-group {
                flex-direction: column;
                gap: 12px;
            }
            .boulder-chart-bars {
                flex-direction: row;
                justify-content: center;
            }
            .boulder-chart-footer {
                flex-direction: column;
                gap: 15px;
            }
            .plant-chart-container {
                flex-direction: column;
                align-items: center;
                gap: 30px;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <div class="dashboard-header">
            <h1>Target Wise  Performance </h1>
        </div>
        <div class="section-title">Quarry Performance</div>
        <!-- Main Content -->
        <div class="dashboard-body">
            <!-- Performance Summary Table + Completion Line -->
            <div class="card">
                <div class="card-content">
                    <table class="metric-table">
                        <thead>
                            <tr>
                                <th></th>
                                <th class="ftd">FTD</th>
                                <th class="mtd">MTD</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Holes</strong></td>
                                <td class="value-large">685</td>
                                <td class="value-large">12,465</td>
                            </tr>
                            <tr>
                                <td><strong>Gap</strong></td>
                                <td class="gap-value">-315</td>
                                <td class="gap-value">-2,645<span class="gap-percentage">(17.5%)</span></td>
                            </tr>
                            <!-- Separator Row -->
                            <tr class="separator-row">
                            </tr>
                            <tr>
                                <td><strong>COMPRESSOR</strong></td>
                                <td>13</td>
                                <td>390</td>
                            </tr>
                            <tr>
                                <td><strong>Gap</strong></td>
                                <td class="gap-value">-4</td>
                                <td class="gap-value">-120<span class="gap-percentage">(23.53%)</span></td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="completion-line">
                        <span class="completion-label">Holes:</span>
                        <span class="completion-ftd">68.50%</span>
                        <span class="completion-arrow"></span>
                        <span class="completion-mtd">82.50%</span>
                    </div>
                    <div class="completion-line">
                        <span class="completion-label">Compressor:</span>
                        <span class="completion-ftd">76.47%</span>
                        <span class="completion-arrow"></span>
                        <span class="completion-mtd">76.47%</span>
                    </div>
                </div>
            </div>
            <!-- Combined Drilling Graphs -->
            <div class="card">
                <div class="card-content">
                    <div class="card-title">Holes - Target - 1000 / Day</div>
                    <div class="combined-graphs">
                        <!-- FTD Donut -->
                        <div class="graph-section">
                            <div class="donut-container">
                                <div class="graph-grid"></div>
                                <div class="donut-chart" style="background: conic-gradient(#ea580c 0% 68.5%, #fef3c7 68.5% 100%); box-shadow: 0 6px 16px rgba(234, 88, 12, 0.2);"></div>
                                <div class="donut-hole">
                                    <div class="donut-center-value" style="color: #ea580c;">68.5%</div>
                                    <div class="donut-center-label">FTD </div>
                                </div>
                            </div>
                            <div class="graph-label ftd-label">FTD Performance</div>
                        </div>
                        <!-- MTD Bar -->
                        <div class="graph-section">
                            <div class="bar-container">
                                <div>
                                    <div class="bar" style="height: 130px; background: linear-gradient(to top, #1e40af, #60a5fa);"><div class="bar-value">12,465</div></div>
                                    <div class="bar-label">Achieved</div>
                                </div>
                                <div>
                                    <div class="bar" style="height: 50px; background: linear-gradient(to top, #dc2626, #f87171);"><div class="bar-value">-2,645</div></div>
                                    <div class="bar-label">Gap</div>
                                </div>
                            </div>
                            <div class="graph-label mtd-label">MTD Performance</div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Compressor Performance Card -->
            <div class="card">
                <div class="card-content">
                    <div class="card-title">Compressor - Target -17 / Day</div>
                    <div class="combined-graphs">
                        <!-- FTD Donut for Compressor -->
                        <div class="graph-section">
                            <div class="donut-container">
                                <div class="graph-grid"></div>
                                <div class="donut-chart" style="background: conic-gradient(#059669 0% 76.47%, #d1fae5 76.47% 100%); box-shadow: 0 6px 16px rgba(5, 150, 105, 0.2);"></div>
                                <div class="donut-hole">
                                    <div class="donut-center-value" style="color: #059669;">76.5%</div>
                                    <div class="donut-center-label">FTD </div>
                                </div>
                            </div>
                            <div class="graph-label compressor-ftd">FTD (13/17)</div>
                        </div>
                        <!-- MTD Bar for Compressor -->
                        <div class="graph-section">
                            <div class="bar-container">
                                <div>
                                    <div class="bar" style="height: 125px; background: linear-gradient(to top, #0d9488, #5eead4);"><div class="bar-value">390</div></div>
                                    <div class="bar-label">Achieved</div>
                                </div>
                                <div>
                                    <div class="bar" style="height: 55px; background: linear-gradient(to top, #dc2626, #f87171);"><div class="bar-value">-120</div></div>
                                    <div class="bar-label">Gap</div>
                                </div>
                            </div>
                            <div class="graph-label compressor-mtd">MTD (390/510)</div>
                        </div>
                    </div>
                </div>
            </div>
           
            <!-- Machinery Section -->
            <div class="section-title">Machinery Performance</div>
            <div class="machinery-section">
                <!-- Box 1: Machinery FTD Performance -->
                <div class="card">
                    <div class="card-content">
                        <div class="card-title">Machinery - FTD Performance</div>
                        <table class="machinery-table">
                            <thead>
                                <tr>
                                    <th class="machinery-name">Machinery</th>
                                    <th class="day-header">Day</th>
                                    <th class="night-header">Night</th>
                                    <th class="availability-header">Availability</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="machinery-name">Tipper</td>
                                    <td>9</td>
                                    <td>8</td>
                                    <td class="availability-cell tipper-availability">83%</td>
                                </tr>
                                <tr>
                                    <td class="machinery-name">Excavator</td>
                                    <td>4</td>
                                    <td>2</td>
                                    <td class="availability-cell excavator-availability">73%</td>
                                </tr>
                                <tr>
                                    <td class="machinery-name">Loader</td>
                                    <td>2</td>
                                    <td>1</td>
                                    <td class="availability-cell loader-availability">82%</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="machinery-stats">
                        </div>
                    </div>
                </div>
               
                <!-- Box 2: Machinery MTD Performance -->
                <div class="card">
                    <div class="card-content">
                        <div class="card-title">Machinery - MTD Performance</div>
                        <table class="machinery-table">
                            <thead>
                                <tr>
                                    <th class="machinery-name">Machinery</th>
                                    <th class="day-header">Day</th>
                                    <th class="night-header">Night</th>
                                    <th class="availability-header">Availability</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="machinery-name">Tipper</td>
                                    <td>195</td>
                                    <td>218</td>
                                    <td class="availability-cell tipper-availability">84%</td>
                                </tr>
                                <tr>
                                    <td class="machinery-name">Excavator</td>
                                    <td>68</td>
                                    <td>46</td>
                                    <td class="availability-cell excavator-availability">66%</td>
                                </tr>
                                <tr>
                                    <td class="machinery-name">Loader</td>
                                    <td>65</td>
                                    <td>35</td>
                                    <td class="availability-cell loader-availability">73%</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="machinery-stats">
                            <div>
                                <span>Tipper Total:</span>
                                <span>413</span>
                            </div>
                            <div>
                                <span>Excavator Total:</span>
                                <span>114</span>
                            </div>
                            <div>
                                <span>Loader Total:</span>
                                <span>100</span>
                            </div>
                        </div>
                    </div>
                </div>
               
                <!-- Box 3: Machinery Availability Bar Chart -->
                <div class="card">
                    <div class="card-content">
                        <div class="card-title">Machinery Availability %</div>
                        <div class="availability-bar-chart">
                            <div class="graph-grid"></div>
                            <div class="availability-bar-item">
                                <div class="availability-label">Tipper</div>
                                <div class="availability-bar-container">
                                    <div class="availability-bar-fill tipper-availability" data-percentage="71" style="background: linear-gradient(to right, #3b82f6, #60a5fa);"></div>
                                </div>
                                <div class="availability-percentage tipper-availability">71%</div>
                            </div>
                            <div class="availability-bar-item">
                                <div class="availability-label">Excavator</div>
                                <div class="availability-bar-container">
                                    <div class="availability-bar-fill excavator-availability" data-percentage="60" style="background: linear-gradient(to right, #10b981, #34d399);"></div>
                                </div>
                                <div class="availability-percentage excavator-availability">60%</div>
                            </div>
                            <div class="availability-bar-item">
                                <div class="availability-label">Loader</div>
                                <div class="availability-bar-container">
                                    <div class="availability-bar-fill loader-availability" data-percentage="75" style="background: linear-gradient(to right, #f59e0b, #fbbf24);"></div>
                                </div>
                                <div class="availability-percentage loader-availability">75%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
           
            <!-- Boulder Transport & Plant Section -->
            <div class="section-title">Boulder Transport & Plant Performance</div>
            <div class="boulder-plant-section">
                <div class="boulder-plant-container">
                    <!-- BOX 1: Data Tables -->
                    <div class="boulder-plant-card">
                        <div class="boulder-plant-content">
                            <div class="data-table-title">Boulder Transport</div>
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>FTD</th>
                                        <th>GAP</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>FTD</strong></td>
                                        <td>112</td>
                                        <td>36</td>
                                    </tr>
                                    <tr>
                                        <td><strong>MTD</strong></td>
                                        <td>653</td>
                                        <td>145</td>
                                    </tr>
                                </tbody>
                            </table>
                           
                            <div class="data-table-title">Plant</div>
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>FTD</th>
                                        <th>GAP</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>FTD</strong></td>
                                        <td>11.5</td>
                                        <td>6.5</td>
                                    </tr>
                                    <tr>
                                        <td><strong>MTD</strong></td>
                                        <td>154</td>
                                        <td>46</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                   
                    <!-- UPDATED BOX 2: Boulder Transport Graph - Corrected Grouping with Footer -->
                    <div class="boulder-plant-card">
                        <div class="boulder-plant-title">Boulder Transport Performance</div>
                        <div class="boulder-plant-content">
                            <div class="boulder-chart-container">
                                <div class="graph-grid"></div>
                                <!-- FTD Group -->
                                <div class="boulder-chart-group">
                                    <div class="boulder-chart-group-label">FTD</div>
                                    <div class="boulder-chart-bars">
                                        <div class="boulder-chart-bar ftd-achieved" style="height: 90px;">
                                            <div class="boulder-chart-bar-value">112</div>
                                        </div>
                                        <div class="boulder-chart-bar ftd-gap" style="height: 30px;">
                                            <div class="boulder-chart-bar-value">36</div>
                                        </div>
                                    </div>
                                    <div class="boulder-chart-group-label">Achieved vs Gap</div>
                                </div>
                                
                                <!-- MTD Group -->
                                <div class="boulder-chart-group">
                                    <div class="boulder-chart-group-label">MTD</div>
                                    <div class="boulder-chart-bars">
                                        <div class="boulder-chart-bar mtd-achieved" style="height: 130px;">
                                            <div class="boulder-chart-bar-value">653</div>
                                        </div>
                                        <div class="boulder-chart-bar mtd-gap" style="height: 45px;">
                                            <div class="boulder-chart-bar-value">145</div>
                                        </div>
                                    </div>
                                    <div class="boulder-chart-group-label">Achieved vs Gap</div>
                                </div>
                            </div>
                            
                            <!-- Chart Footer -->
                            <div class="boulder-chart-footer">
                                <div class="footer-section">
                                    <div class="footer-title">FTD Target</div>
                                    <div class="footer-value ftd">148</div>
                                </div>
                                <div class="footer-section">
                                    <div class="footer-title">FTD Achievement</div>
                                    <div class="footer-value ftd">75.7%</div>
                                </div>
                                <div class="footer-section">
                                    <div class="footer-title">MTD Target</div>
                                    <div class="footer-value mtd">798</div>
                                </div>
                                <div class="footer-section">
                                    <div class="footer-title">MTD Achievement</div>
                                    <div class="footer-value mtd">81.8%</div>
                                </div>
                            </div>
                            
                            <!-- Chart Legend -->
                            
                        </div>
                    </div>
                   
                    <!-- BOX 3: Plant Report Graph -->
                    <div class="boulder-plant-card">
                        <div class="boulder-plant-title">Plant Report</div>
                        <div class="boulder-plant-content">
                            <div class="plant-chart-container">
                                <div class="graph-grid"></div>
                                <div class="plant-chart-group">
                                    <div class="plant-chart-group-label">FTD</div>
                                    <div class="plant-chart-bars">
                                        <div class="plant-chart-bar ftd" style="height: 60px;">
                                            <div class="plant-chart-bar-value">11.5</div>
                                        </div>
                                        <div class="plant-chart-bar ftd-gap" style="height: 35px;">
                                            <div class="plant-chart-bar-value">6.5</div>
                                        </div>
                                    </div>
                                    <div class="plant-chart-category">FTD Hours & Gap</div>
                                </div>
                                <div class="plant-chart-group">
                                    <div class="plant-chart-group-label">MTD</div>
                                    <div class="plant-chart-bars">
                                        <div class="plant-chart-bar mtd" style="height: 180px;">
                                            <div class="plant-chart-bar-value">154</div>
                                        </div>
                                        <div class="plant-chart-bar mtd-gap" style="height: 100px;">
                                            <div class="plant-chart-bar-value">46</div>
                                        </div>
                                    </div>
                                    <div class="plant-chart-category">MTD Hours & Gap</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Initialize all animations on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Animate all bar charts
            animateAllBars();
            animateAvailabilityBars();
            animateDonutCharts();
            
            // Initialize graph interactions
            initializeGraphInteractions();
            
            // Click interactions for original 3 cards
            document.querySelectorAll('.card')[0].addEventListener('click', function() {
                showDetailedAlert('Performance Summary', 
                    'DRILLING:\nFTD:\n- Holes: 685\n- Gap: -315\n\nMTD:\n- Holes: 12,465\n- Gap: -2,645 (17.5%)\n\nCOMPRESSOR:\nFTD:\n- Units: 13\n- Gap: -4\n\nMTD:\n- Units: 390\n- Gap: -120 (23.53%)');
            });
            document.querySelectorAll('.card')[1].addEventListener('click', function() {
                showDetailedAlert('Drilling Performance', 
                    'FTD: 68.5% completed (685/1,000 units)\nMTD: 82.5% completed (12,465/15,110 units)\n\nGap:\n- FTD: -315 units\n- MTD: -2,645 units (17.5%)');
            });
            document.querySelectorAll('.card')[2].addEventListener('click', function() {
                showDetailedAlert('Compressor Performance', 
                    'FTD: 76.47% completed (13/17 units)\nMTD: 76.47% completed (390/510 units)\n\nGap:\n- FTD: -4 units\n- MTD: -120 units (23.53%)');
            });
           
            // Click interactions for machinery cards
            document.querySelectorAll('.machinery-section .card')[0].addEventListener('click', function() {
                showDetailedAlert('Machinery FTD Performance', 
                    'Tipper:\n- Day Shift: 9 units\n- Night Shift: 8 units\n- Total: 17 units\n- Availability: 71%\n\nExcavator:\n- Day Shift: 4 units\n- Night Shift: 2 units\n- Total: 6 units\n- Availability: 60%\n\nLoader:\n- Day Shift: 2 units\n- Night Shift: 1 unit\n- Total: 3 units\n- Availability: 75%');
            });
            document.querySelectorAll('.machinery-section .card')[1].addEventListener('click', function() {
                showDetailedAlert('Machinery MTD Performance', 
                    'Tipper:\n- Day Shift: 195 units\n- Night Shift: 218 units\n- Total: 413 units\n- Availability: 71%\n\nExcavator:\n- Day Shift: 68 units\n- Night Shift: 46 units\n- Total: 114 units\n- Availability: 60%\n\nLoader:\n- Day Shift: 65 units\n- Night Shift: 35 units\n- Total: 100 units\n- Availability: 75%');
            });
            document.querySelectorAll('.machinery-section .card')[2].addEventListener('click', function() {
                showDetailedAlert('Machinery Availability Analysis', 
                    'Tipper: 71%\n- Performance: Good\n- Target: 70%\n\nExcavator: 60%\n- Performance: Needs Improvement\n- Target: 75%\n\nLoader: 75%\n- Performance: Excellent\n- Target: 70%');
            });
           
            // Click interactions for Boulder & Plant cards
            document.querySelectorAll('.boulder-plant-card')[0].addEventListener('click', function() {
                showDetailedAlert('Boulder Transport & Plant Data', 
                    'BOULDER TRANSPORT:\nFTD: 112 units\nFTD Gap: 36 units\nMTD: 653 units\nMTD Gap: 145 units\n\nPLANT:\nFTD: 11.5 units\nFTD Gap: 6.5 units\nMTD: 154 units\nMTD Gap: 46 units');
            });
            document.querySelectorAll('.boulder-plant-card')[1].addEventListener('click', function() {
                showDetailedAlert('Boulder Transport Performance', 
                    'FTD Performance:\n- Target: 148 units\n- Achieved: 112 units\n- Gap: 36 units\n- Achievement: 75.7%\n\nMTD Performance:\n- Target: 798 units\n- Achieved: 653 units\n- Gap: 145 units\n- Achievement: 81.8%');
            });
            document.querySelectorAll('.boulder-plant-card')[2].addEventListener('click', function() {
                showDetailedAlert('Plant Report Chart', 
                    'FTD: 11.5 units\nFTD GAP: 6.5 units\n\nMTD: 154 units\nMTD GAP: 46 units');
            });
            
            // Add hover animation to all graphs
            addHoverAnimations();
        });
        
        function animateAllBars() {
            const bars = document.querySelectorAll('.bar, .boulder-chart-bar, .plant-chart-bar');
            bars.forEach((bar, index) => {
                setTimeout(() => {
                    bar.style.transform = 'scaleY(1)';
                }, 300 + (index * 100));
            });
        }
        
        function animateAvailabilityBars() {
            const bars = document.querySelectorAll('.availability-bar-fill');
            bars.forEach(bar => {
                const percentage = bar.getAttribute('data-percentage');
                setTimeout(() => {
                    bar.style.width = `${percentage}%`;
                }, 800);
            });
        }
        
        function animateDonutCharts() {
            const donuts = document.querySelectorAll('.donut-chart');
            donuts.forEach((donut, index) => {
                setTimeout(() => {
                    donut.style.transform = 'rotate(-90deg) scale(1)';
                    donut.style.opacity = '1';
                }, 500 + (index * 200));
            });
        }
        
        function initializeGraphInteractions() {
            // Add click animations to graphs
            const graphs = document.querySelectorAll('.donut-chart, .bar, .availability-bar-fill, .boulder-chart-bar, .plant-chart-bar');
            graphs.forEach(graph => {
                graph.addEventListener('click', function(e) {
                    e.stopPropagation();
                    // Add pulse animation
                    this.style.animation = 'none';
                    setTimeout(() => {
                        this.style.animation = 'pulseGlow 0.6s ease';
                    }, 10);
                    
                    // Show data tooltip
                    const value = this.querySelector('.bar-value, .boulder-chart-bar-value, .plant-chart-bar-value')?.textContent ||
                                 this.closest('.donut-container')?.querySelector('.donut-center-value')?.textContent ||
                                 'Data';
                    showTooltip(this, value);
                });
            });
        }
        
        function showTooltip(element, text) {
            // Remove existing tooltip
            const existingTooltip = document.querySelector('.graph-tooltip');
            if (existingTooltip) {
                existingTooltip.remove();
            }
            
            // Create new tooltip
            const tooltip = document.createElement('div');
            tooltip.className = 'graph-tooltip';
            tooltip.textContent = text;
            tooltip.style.position = 'absolute';
            tooltip.style.background = 'rgba(30, 41, 59, 0.95)';
            tooltip.style.color = 'white';
            tooltip.style.padding = '8px 12px';
            tooltip.style.borderRadius = '6px';
            tooltip.style.fontSize = '14px';
            tooltip.style.fontWeight = '600';
            tooltip.style.zIndex = '1000';
            tooltip.style.boxShadow = '0 4px 12px rgba(0,0,0,0.15)';
            tooltip.style.pointerEvents = 'none';
            
            document.body.appendChild(tooltip);
            
            // Position tooltip
            const rect = element.getBoundingClientRect();
            tooltip.style.left = `${rect.left + rect.width/2 - tooltip.offsetWidth/2}px`;
            tooltip.style.top = `${rect.top - 40}px`;
            
            // Remove tooltip after 1.5 seconds
            setTimeout(() => {
                tooltip.style.opacity = '0';
                tooltip.style.transition = 'opacity 0.3s ease';
                setTimeout(() => {
                    if (tooltip.parentNode) {
                        tooltip.parentNode.removeChild(tooltip);
                    }
                }, 300);
            }, 1500);
        }
        
        function addHoverAnimations() {
            // Add hover effects to all graph elements
            const graphElements = document.querySelectorAll('.card, .boulder-plant-card, .donut-chart, .bar, .availability-bar-fill, .boulder-chart-bar, .plant-chart-bar');
            
            graphElements.forEach(element => {
                element.addEventListener('mouseenter', function() {
                    if (this.classList.contains('card') || this.classList.contains('boulder-plant-card')) {
                        return; // Skip cards as they have their own hover
                    }
                    this.style.transform = this.style.transform + ' scale(1.05)';
                });
                
                element.addEventListener('mouseleave', function() {
                    if (this.classList.contains('card') || this.classList.contains('boulder-plant-card')) {
                        return;
                    }
                    this.style.transform = this.style.transform.replace(' scale(1.05)', '');
                });
            });
        }
        
        function showDetailedAlert(title, message) {
            // Create a modal-like alert with better styling
            const alertBox = document.createElement('div');
            alertBox.style.position = 'fixed';
            alertBox.style.top = '50%';
            alertBox.style.left = '50%';
            alertBox.style.transform = 'translate(-50%, -50%)';
            alertBox.style.background = 'white';
            alertBox.style.padding = '30px';
            alertBox.style.borderRadius = '12px';
            alertBox.style.boxShadow = '0 20px 60px rgba(0,0,0,0.3)';
            alertBox.style.zIndex = '2000';
            alertBox.style.maxWidth = '500px';
            alertBox.style.width = '90%';
            alertBox.style.fontFamily = 'Segoe UI, Arial, sans-serif';
            
            alertBox.innerHTML = `
                <div style="margin-bottom: 20px;">
                    <h2 style="color: #1e3a8a; margin-bottom: 10px; font-size: 22px;">${title}</h2>
                    <div style="background: #f8fafc; padding: 20px; border-radius: 8px; font-size: 15px; line-height: 1.6; color: #334155; white-space: pre-line;">
                        ${message}
                    </div>
                </div>
                <button style="background: #3b82f6; color: white; border: none; padding: 12px 30px; border-radius: 6px; font-size: 16px; font-weight: 600; cursor: pointer; width: 100%; transition: background 0.3s ease;"
                        onmouseover="this.style.background='#2563eb'"
                        onmouseout="this.style.background='#3b82f6'"
                        onclick="this.parentNode.remove()">
                    Close
                </button>
            `;
            
            // Add overlay
            const overlay = document.createElement('div');
            overlay.style.position = 'fixed';
            overlay.style.top = '0';
            overlay.style.left = '0';
            overlay.style.width = '100%';
            overlay.style.height = '100%';
            overlay.style.background = 'rgba(0,0,0,0.5)';
            overlay.style.zIndex = '1999';
            overlay.onclick = function() {
                document.body.removeChild(overlay);
                if (alertBox.parentNode) {
                    document.body.removeChild(alertBox);
                }
            };
            
            document.body.appendChild(overlay);
            document.body.appendChild(alertBox);
            
            // Add animation
            alertBox.style.opacity = '0';
            alertBox.style.transform = 'translate(-50%, -50%) scale(0.9)';
            setTimeout(() => {
                alertBox.style.transition = 'all 0.3s ease';
                alertBox.style.opacity = '1';
                alertBox.style.transform = 'translate(-50%, -50%) scale(1)';
            }, 10);
        }
        
        // Add CSS for pulse animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes pulseGlow {
                0% { filter: brightness(1); box-shadow: 0 0 0 rgba(59, 130, 246, 0); }
                50% { filter: brightness(1.2); box-shadow: 0 0 20px rgba(59, 130, 246, 0.6); }
                100% { filter: brightness(1); box-shadow: 0 0 0 rgba(59, 130, 246, 0); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
                            <div style="text-align: center; color: #666; font-size: 0.9rem; padding: 10px; background: #f1f5f9; border-radius: 6px;">
                                Click to view detailed Target Wise Performance Report
                            </div>
                        </div>
                        <div class="report-footer">Click to view detailed report</div>
                    </div>
                </div>
                
                <!-- Cashflow Report Button -->
                <div class="production-stock" onclick="openModal('cashflow-modal')" style="margin-top: 30px;">
                    <div class="label">
                        <i class="fas fa-money-bill-wave"></i> Cashflow Report
                    </div>
                    <div class="value">Details</div>
                </div>
            </div>
        </div>
    </div>

    <!-- UPDATED: Modal for Compressor Report with Mine Boulder Production Dashboard - Increased by 30% -->
    <div id="compressor-modal" class="modal">
        <div class="modal-content" style="max-width: 1300px; width: 90%; max-height: 95vh;"> <!-- Increased by 30% -->
            <div class="modal-header">
                <h2><i class="fas fa-compress-arrows-alt"></i> Mine Boulder Production Dashboard</h2>
                <button class="close-btn" onclick="closeModal('compressor-modal')">&times;</button>
            </div>
            <div class="modal-body" style="padding: 30px;"> <!-- Increased padding -->
                <style>
                    .compressor-container {
                        max-width: 1400px;
                        margin: 0 auto;
                        display: grid;
                        grid-template-columns: 1fr;
                        gap: 30px; /* Increased gap */
                    }
                    .compressor-card {
                        background: white;
                        border-radius: 14px; /* Larger radius */
                        box-shadow: 0 6px 25px rgba(0,0,0,0.1); /* Enhanced shadow */
                        overflow: hidden;
                        border-top: 5px solid #2c3e50; /* Thicker border */
                    }
                    .compressor-card-header {
                        padding: 20px 28px; /* More padding */
                        font-weight: 700; /* Bolder */
                        font-size: 20px; /* Larger font */
                        color: #2c3e50;
                        border-bottom: 3px solid #3498db; /* Thicker border */
                        background: white;
                    }
                    .compressor-card-body {
                        padding: 28px; /* More padding */
                    }
                    .compressor-performance-section {
                        display: grid;
                        grid-template-columns: 2fr 1fr;
                        gap: 30px; /* Increased gap */
                    }
                    .compressor-table {
                        width: 100%;
                        border-collapse: collapse;
                        font-size: 18px; /* Larger font */
                    }
                    .compressor-table th {
                        text-align: left;
                        padding: 18px 20px; /* More padding */
                        background: #f8f9fa;
                        font-weight: 700; /* Bolder */
                        color: #2c3e50;
                        border-bottom: 2px solid #e0e0e0; /* Thicker border */
                        font-size: 16px; /* Larger */
                    }
                    .compressor-table td {
                        padding: 16px 20px; /* More padding */
                        border-bottom: 2px solid #f0f0f0; /* Thicker border */
                        font-size: 18px; /* Larger font */
                        font-weight: 600; /* Bolder */
                    }
                    .compressor-table tr:last-child td {
                        border-bottom: none;
                    }
                    .compressor-metric-value {
                        font-weight: 700; /* Bolder */
                        color: #2c3e50;
                        font-size: 19px; /* Larger */
                    }
                    .compressor-achievement-item {
                        margin-bottom: 40px; /* More spacing */
                    }
                    .compressor-achievement-title {
                        font-weight: 700; /* Bolder */
                        color: #2c3e50;
                        margin-bottom: 15px; /* More spacing */
                        font-size: 18px; /* Larger */
                    }
                    .compressor-progress-bar {
                        height: 40px; /* Taller */
                        background: #e9ecef;
                        border-radius: 20px; /* Larger radius */
                        overflow: hidden;
                        position: relative;
                        box-shadow: inset 0 3px 6px rgba(0,0,0,0.08); /* Enhanced shadow */
                    }
                    .compressor-progress-fill {
                        height: 100%;
                        border-radius: 20px; /* Larger radius */
                        transition: width 0.4s ease;
                        display: flex;
                        align-items: center;
                        justify-content: flex-end;
                        padding-right: 20px; /* More padding */
                    }
                    .compressor-progress-value {
                        color: white;
                        font-weight: 800; /* Bolder */
                        font-size: 18px; /* Larger */
                        text-shadow: 0 2px 3px rgba(0,0,0,0.4); /* Enhanced shadow */
                    }
                    .compressor-middle-row {
                        display: grid;
                        grid-template-columns: 1fr 1fr;
                        gap: 30px; /* Increased gap */
                    }
                    .compressor-loading-table {
                        width: 100%;
                        border-collapse: separate;
                        border-spacing: 0 12px; /* More spacing */
                        font-size: 16px; /* Larger */
                    }
                    .compressor-loading-table th {
                        text-align: left;
                        padding: 16px 20px; /* More padding */
                        background: #f8f9fa;
                        font-weight: 700; /* Bolder */
                        color: #2c3e50;
                        font-size: 15px; /* Larger */
                    }
                    .compressor-loading-table td {
                        padding: 16px 20px; /* More padding */
                        background: #f9fbfc;
                        vertical-align: top;
                    }
                    .compressor-shift-label {
                        display: flex;
                        align-items: center;
                        gap: 12px; /* More gap */
                        font-weight: 700; /* Bolder */
                        color: #2c3e50;
                        min-width: 140px; /* Wider */
                        font-size: 16px; /* Larger */
                    }
                    .compressor-shift-symbol {
                        width: 30px; /* Larger */
                        height: 30px; /* Larger */
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-weight: bold;
                        font-size: 16px; /* Larger */
                        color: white;
                    }
                    .compressor-morning-symbol {
                        background: #f39c12;
                    }
                    .compressor-afternoon-symbol {
                        background: #3498db;
                    }
                    .compressor-night-symbol {
                        background: #2c3e50;
                    }
                    .compressor-area-table {
                        width: 100%;
                        border-collapse: separate;
                        border-spacing: 0 12px; /* More spacing */
                        font-size: 16px; /* Larger */
                    }
                    .compressor-area-table th {
                        text-align: left;
                        padding: 16px 20px; /* More padding */
                        background: #f8f9fa;
                        font-weight: 700; /* Bolder */
                        color: #2c3e50;
                    }
                    .compressor-area-table td {
                        padding: 16px 20px; /* More padding */
                        background: #f9fbfc;
                    }
                    .compressor-area-table .total-row {
                        background: #e8f4fc;
                        font-weight: 700; /* Bolder */
                    }
                    .compressor-data-input {
                        width: 100%;
                        padding: 14px 16px; /* More padding */
                        border: 2px solid #ddd; /* Thicker border */
                        border-radius: 8px; /* Larger radius */
                        font-size: 16px; /* Larger */
                        background: white;
                    }
                    .compressor-data-input:focus {
                        outline: none;
                        border-color: #3498db;
                        box-shadow: 0 0 0 4px rgba(52, 152, 219, 0.2); /* Larger shadow */
                    }
                    .compressor-trial-form {
                        display: grid;
                        grid-template-columns: 1fr 1fr;
                        gap: 20px; /* More gap */
                    }
                    .compressor-form-group {
                        display: flex;
                        flex-direction: column;
                        gap: 8px; /* More gap */
                    }
                    .compressor-form-group label {
                        font-weight: 600; /* Bolder */
                        color: #444;
                        font-size: 16px; /* Larger */
                    }
                    .compressor-trial-summary {
                        grid-column: 1 / -1;
                        display: grid;
                        grid-template-columns: repeat(3, 1fr);
                        gap: 20px; /* More gap */
                        margin-top: 15px; /* More spacing */
                        padding-top: 20px; /* More padding */
                        border-top: 2px solid #eee; /* Thicker border */
                    }
                    .compressor-summary-box {
                        background: #f8f9fa;
                        padding: 20px; /* More padding */
                        border-radius: 10px; /* Larger radius */
                        border-left: 5px solid #3498db; /* Thicker border */
                    }
                    .compressor-summary-label {
                        font-size: 15px; /* Larger */
                        color: #666;
                        margin-bottom: 8px; /* More spacing */
                    }
                    .compressor-summary-value {
                        font-size: 24px; /* Larger */
                        font-weight: 700; /* Bolder */
                        color: #2c3e50;
                    }
                    .compressor-remarks-textarea {
                        width: 100%;
                        height: 280px; /* Taller */
                        padding: 20px; /* More padding */
                        border: 2px solid #ddd; /* Thicker border */
                        border-radius: 10px; /* Larger radius */
                        font-size: 16px; /* Larger */
                        resize: vertical;
                        background: #f9fbfc;
                        line-height: 1.7; /* Better line height */
                    }
                    .compressor-remarks-textarea:focus {
                        outline: none;
                        border-color: #3498db;
                        box-shadow: 0 0 0 4px rgba(52, 152, 219, 0.2); /* Larger shadow */
                    }
                    .compressor-bottom-row {
                        display: grid;
                        grid-template-columns: 1fr 1fr;
                        gap: 30px; /* Increased gap */
                    }
                    @media (max-width: 1024px) {
                        .compressor-performance-section,
                        .compressor-middle-row,
                        .compressor-bottom-row {
                            grid-template-columns: 1fr;
                        }
                        .compressor-trial-form {
                            grid-template-columns: 1fr;
                        }
                        .compressor-trial-summary {
                            grid-template-columns: 1fr;
                        }
                    }
                </style>
                
                <div class="compressor-container">
                    <!-- Performance Metrics with Achievements -->
                    <div class="compressor-performance-section">
                        <!-- Performance Metrics -->
                        <div class="compressor-card">
                            <div class="compressor-card-header">Performance Metrics</div>
                            <div class="compressor-card-body">
                                <table class="compressor-table">
                                    <tr>
                                        <th>Metric</th>
                                        <th>FTD</th>
                                        <th>MTD</th>
                                    </tr>
                                    <tr>
                                        <td>Quarry Running Hrs</td>
                                        <td class="compressor-metric-value">8.5</td>
                                        <td class="compressor-metric-value">156.2</td>
                                    </tr>
                                    <tr>
                                        <td>Compressors</td>
                                        <td class="compressor-metric-value">12</td>
                                        <td class="compressor-metric-value">245</td>
                                    </tr>
                                    <tr>
                                        <td>NMR</td>
                                        <td class="compressor-metric-value">4.2</td>
                                        <td class="compressor-metric-value">78.5</td>
                                    </tr>
                                    <tr>
                                        <td>Holes</td>
                                        <td class="compressor-metric-value">850</td>
                                        <td class="compressor-metric-value">15,800</td>
                                    </tr>
                                    <tr>
                                        <td>Feets</td>
                                        <td class="compressor-metric-value">4,250</td>
                                        <td class="compressor-metric-value">79,000</td>
                                    </tr>
                                    <tr>
                                        <td>Production</td>
                                        <td class="compressor-metric-value">1,250</td>
                                        <td class="compressor-metric-value">22,500</td>
                                    </tr>
                                    <tr>
                                        <td>Boulder transport to plant</td>
                                        <td class="compressor-metric-value">45</td>
                                        <td class="compressor-metric-value">850</td>
                                    </tr>
                                    <tr>
                                        <td>Loading Hrs</td>
                                        <td class="compressor-metric-value">6.2</td>
                                        <td class="compressor-metric-value">112.5</td>
                                    </tr>
                                    <tr>
                                        <td>Breaking Hrs</td>
                                        <td class="compressor-metric-value">5.8</td>
                                        <td class="compressor-metric-value">105.3</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <!-- Achievements -->
                        <div class="compressor-card">
                            <div class="compressor-card-header">Performance Achievements</div>
                            <div class="compressor-card-body">
                                <div class="compressor-achievement-item">
                                    <div class="compressor-achievement-title">Compressor Achievement</div>
                                    <div class="compressor-progress-bar">
                                        <div class="compressor-progress-fill" id="compressors-fill" style="width: 70.6%; background: #3498db;">
                                            <span class="compressor-progress-value">70.6%</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="compressor-achievement-item">
                                    <div class="compressor-achievement-title">Holes Achievement</div>
                                    <div class="compressor-progress-bar">
                                        <div class="compressor-progress-fill" id="holes-fill" style="width: 85%; background: #2ecc71;">
                                            <span class="compressor-progress-value">85.0%</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="compressor-achievement-item">
                                    <div class="compressor-achievement-title">Production Achievement</div>
                                    <div class="compressor-progress-bar">
                                        <div class="compressor-progress-fill" id="production-fill" style="width: 92.5%; background: #9b59b6;">
                                            <span class="compressor-progress-value">92.5%</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="compressor-achievement-item">
                                    <div class="compressor-achievement-title">NMR Achievement</div>
                                    <div class="compressor-progress-bar">
                                        <div class="compressor-progress-fill" id="nmr-fill" style="width: 63.8%; background: #e74c3c;">
                                            <span class="compressor-progress-value">63.8%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Middle Row: Loading Log and Area Wise Compressor -->
                    <div class="compressor-middle-row">
                        <!-- Loading Log -->
                        <div class="compressor-card">
                            <div class="compressor-card-header">Loading Log</div>
                            <div class="compressor-card-body">
                                <table class="compressor-loading-table">
                                    <tr>
                                        <th>Shift</th>
                                        <th>Start Time</th>
                                        <th>Trips</th>
                                        <th>Qty</th>
                                        <th>End Time</th>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="compressor-shift-label">
                                                <span class="compressor-shift-symbol compressor-morning-symbol">M</span>
                                                <span>Morning</span>
                                            </div>
                                        </td>
                                        <td><input type="time" class="compressor-data-input" value="06:00"></td>
                                        <td><input type="number" class="compressor-data-input" value="8"></td>
                                        <td><input type="number" class="compressor-data-input" value="320"></td>
                                        <td><input type="time" class="compressor-data-input" value="14:00"></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="compressor-shift-label">
                                                <span class="compressor-shift-symbol compressor-afternoon-symbol">A</span>
                                                <span>Afternoon</span>
                                            </div>
                                        </td>
                                        <td><input type="time" class="compressor-data-input" value="14:00"></td>
                                        <td><input type="number" class="compressor-data-input" value="7"></td>
                                        <td><input type="number" class="compressor-data-input" value="280"></td>
                                        <td><input type="time" class="compressor-data-input" value="22:00"></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="compressor-shift-label">
                                                <span class="compressor-shift-symbol compressor-night-symbol">N</span>
                                                <span>Night</span>
                                            </div>
                                        </td>
                                        <td><input type="time" class="compressor-data-input" value="22:00"></td>
                                        <td><input type="number" class="compressor-data-input" value="6"></td>
                                        <td><input type="number" class="compressor-data-input" value="240"></td>
                                        <td><input type="time" class="compressor-data-input" value="06:00"></td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <!-- Area Wise Compressor -->
                        <div class="compressor-card">
                            <div class="compressor-card-header">Area Wise Compressor</div>
                            <div class="compressor-card-body">
                                <table class="compressor-area-table">
                                    <tr>
                                        <th>Area</th>
                                        <th>FTD</th>
                                        <th>MTD</th>
                                    </tr>
                                    <tr>
                                        <td>9 Ha  Pit 3</td>
                                        <td><input type="number" class="compressor-data-input" value="3"></td>
                                        <td><input type="number" class="compressor-data-input" value="55"></td>
                                    </tr>
                                    <tr>
                                        <td>Bench 1</td>
                                        <td><input type="number" class="compressor-data-input" value="2"></td>
                                        <td><input type="number" class="compressor-data-input" value="38"></td>
                                    </tr>
                                    <tr>
                                        <td>Bench 2</td>
                                        <td><input type="number" class="compressor-data-input" value="2"></td>
                                        <td><input type="number" class="compressor-data-input" value="42"></td>
                                    </tr>
                                    <tr>
                                        <td>Bench 3</td>
                                        <td><input type="number" class="compressor-data-input" value="3"></td>
                                        <td><input type="number" class="compressor-data-input" value="52"></td>
                                    </tr>
                                    <tr>
                                        <td>Bench 4</td>
                                        <td><input type="number" class="compressor-data-input" value="1"></td>
                                        <td><input type="number" class="compressor-data-input" value="28"></td>
                                    </tr>
                                    <tr>
                                        <td>Pit-2</td>
                                        <td><input type="number" class="compressor-data-input" value="1"></td>
                                        <td><input type="number" class="compressor-data-input" value="30"></td>
                                    </tr>
                                    <tr class="total-row">
                                        <td><strong>Total</strong></td>
                                        <td><strong>12</strong></td>
                                        <td><strong>245</strong></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Bottom Row: Trial Data and Remarks -->
                    <div class="compressor-bottom-row">
                        <!-- Weekly Trial Data - Expanded -->
                        <div class="compressor-card">
                            <div class="compressor-card-header">Weekly Trial Data</div>
                            <div class="compressor-card-body">
                                <form class="compressor-trial-form">
                                    <div class="compressor-form-group">
                                        <label>Date</label>
                                        <input type="date" class="compressor-data-input" value="2024-01-15">
                                    </div>
                                    <div class="compressor-form-group">
                                        <label>Area</label>
                                        <input type="text" class="compressor-data-input" placeholder="Enter area">
                                    </div>
                                    <div class="compressor-form-group">
                                        <label>Compressors</label>
                                        <input type="number" class="compressor-data-input" value="3">
                                    </div>
                                    <div class="compressor-form-group">
                                        <label>NMR</label>
                                        <input type="number" class="compressor-data-input" step="0.01" value="4.2">
                                    </div>
                                    <div class="compressor-form-group">
                                        <label>Holes</label>
                                        <input type="number" class="compressor-data-input" value="150">
                                    </div>
                                    <div class="compressor-form-group">
                                        <label>Feets</label>
                                        <input type="number" class="compressor-data-input" value="750">
                                    </div>
                                    <div class="compressor-form-group">
                                        <label>Production</label>
                                        <input type="number" class="compressor-data-input" value="220">
                                    </div>
                                    <div class="compressor-form-group">
                                        <label>Recovery %</label>
                                        <input type="number" class="compressor-data-input" step="0.01" value="85.5">
                                    </div>
                                </form>
                                
                                <!-- Summary Section -->
                                <div class="compressor-trial-summary">
                                    <div class="compressor-summary-box">
                                        <div class="compressor-summary-label">Total Trips</div>
                                        <div class="compressor-summary-value" id="compressor-total-trips">21</div>
                                    </div>
                                    <div class="compressor-summary-box">
                                        <div class="compressor-summary-label">Total Quantity</div>
                                        <div class="compressor-summary-value" id="compressor-total-qty">840</div>
                                    </div>
                                    <div class="compressor-summary-box">
                                        <div class="compressor-summary-label">Avg. Recovery</div>
                                        <div class="compressor-summary-value" id="compressor-avg-recovery">85.5%</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Daily Remarks -->
                        <div class="compressor-card">
                            <div class="compressor-card-header">Daily Remarks & Notes</div>
                            <div class="compressor-card-body">
                                <textarea class="compressor-remarks-textarea" placeholder="Enter daily remarks, observations, issues, or special instructions here..."> Excavator #2 needs maintenance check
 Extra tipper arranged for tomorrow
 Bench 3 showing good production rate
 Water logging issue in Pit 2 needs attention</textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Production & Stock -->
    <div id="production-stock-modal" class="modal production-stock-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-industry"></i> Production & Stock Details</h2>
                <button class="close-btn" onclick="closeModal('production-stock-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="production-stock-section">
                    <div class="card">
                        <h2 class="section-title"><i class="fas fa-boxes"></i> Production & Stock Details</h2>
                        <div class="production-stock-grid">
                            <div class="production-details">
                                <h3 style="color: var(--success); margin-bottom: 10px; text-align: center;">Today's Production</h3>
                                <table class="production-table">
                                    <thead>
                                        <tr>
                                            <th>Product</th>
                                            <th>FTD</th>
                                            <th>MTD</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>10 MM</td>
                                            <td>381.6</td>
                                            <td>3722.4</td>
                                        </tr>
                                        <tr>
                                            <td>20 MM</td>
                                            <td>593.6</td>
                                            <td>5790.4</td>
                                        </tr>
                                        <tr>
                                            <td>V-Sand</td>
                                            <td>296.8</td>
                                            <td>2895.2</td>
                                        </tr>
                                        <tr>
                                            <td>Railway Ballast</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </tr>
                                        <tr>
                                            <td>40 MM</td>
                                            <td>-</td>
                                            <td>-</td>
                                        </tr>
                                        <tr>
                                            <td>Rivo Sand</td>
                                            <td>763.2</td>
                                            <td>7444.8</td>
                                        </tr>
                                        <tr>
                                            <td>Slurry</td>
                                            <td>84.8</td>
                                            <td>827.2</td>
                                        </tr>
                                        <tr class="total-row">
                                            <td>Total</td>
                                            <td>2120</td>
                                            <td>20680</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="stock-details">
                                <h3 style="color: var(--warning); margin-bottom: 10px; text-align: center;">Godown Stock</h3>
                                <table class="stock-table">
                                    <thead>
                                        <tr>
                                            <th>Product</th>
                                            <th>Stock</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>10 MM</td>
                                            <td>80</td>
                                        </tr>
                                        <tr>
                                            <td>20 MM</td>
                                            <td>4100</td>
                                        </tr>
                                        <tr>
                                            <td>Rivo Sand</td>
                                            <td>20990</td>
                                        </tr>
                                        <tr>
                                            <td>Railway Ballast</td>
                                            <td>795</td>
                                        </tr>
                                        <tr>
                                            <td>40 MM</td>
                                            <td>-</td>
                                        </tr>
                                        <tr>
                                            <td>VSI</td>
                                            <td>18816</td>
                                        </tr>
                                        <tr>
                                            <td>GSB</td>
                                            <td>-</td>
                                        </tr>
                                        <tr class="total-row">
                                            <td>Total</td>
                                            <td>44781</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Cashflow Report -->
    <div id="cashflow-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-money-bill-wave"></i> Cashflow Report</h2>
                <button class="close-btn" onclick="closeModal('cashflow-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <style>
                    .cashflow-dashboard {
                        font-family: 'Roboto', Arial, sans-serif;
                        background-color: #ffffff;
                        color: #333;
                        padding: 20px;
                        max-width: 1200px;
                        margin: 0 auto;
                    }
                    .cashflow-dashboard h1 {
                        color: #1e3a8a;
                        margin-bottom: 20px;
                        font-size: 1.8rem;
                        border-bottom: 1px solid #ccc;
                        padding-bottom: 10px;
                    }
                    .cashflow-kpi-container {
                        display: flex;
                        justify-content: space-between;
                        margin-bottom: 30px;
                        flex-wrap: wrap;
                        gap: 20px;
                    }
                    .cashflow-kpi-circle {
                        width: 180px;
                        height: 180px;
                        border-radius: 50%;
                        border: 2px solid #1e3a8a;
                        display: flex;
                        flex-direction: column;
                        justify-content: center;
                        align-items: center;
                        background-color: white;
                        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
                    }
                    .cashflow-kpi-title {
                        color: #1e3a8a;
                        font-weight: 700;
                        font-size: 1.1rem;
                        margin-bottom: 10px;
                        text-align: center;
                        padding: 0 10px;
                    }
                    .cashflow-kpi-value {
                        font-size: 1.8rem;
                        font-weight: 700;
                        color: #222;
                    }
                    .cashflow-content-container {
                        display: flex;
                        gap: 20px;
                        margin-bottom: 30px;
                    }
                    .cashflow-left-column {
                        flex: 0 0 60%;
                    }
                    .cashflow-right-column {
                        flex: 0 0 40%;
                    }
                    .cashflow-section-title {
                        color: #1e3a8a;
                        font-weight: 700;
                        font-size: 1.2rem;
                        margin: 20px 0 10px 0;
                        padding-bottom: 5px;
                        border-bottom: 1px solid #ccc;
                    }
                    .cashflow-section-title::before {
                        content: "::";
                        margin-right: 8px;
                        color: #1e3a8a;
                    }
                    .cashflow-data-table {
                        width: 100%;
                        border-collapse: collapse;
                        margin-bottom: 25px;
                        table-layout: fixed;
                    }
                    .cashflow-data-table th {
                        background-color: #f0f4ff;
                        color: #1e3a8a;
                        font-weight: 700;
                        padding: 10px 8px;
                        text-align: left;
                        border: 1px solid #000;
                    }
                    .cashflow-data-table td {
                        padding: 8px;
                        border: 1px solid #000;
                        height: 36px;
                    }
                    .cashflow-data-table .right-align {
                        text-align: right;
                    }
                    .cashflow-data-table .bold-row {
                        font-weight: 700;
                        background-color: #f8f9fa;
                    }
                    .cashflow-entry-table {
                        width: 100%;
                        border-collapse: collapse;
                        margin-top: 10px;
                    }
                    .cashflow-entry-table th {
                        background-color: #f0f4ff;
                        color: #1e3a8a;
                        font-weight: 700;
                        padding: 10px 8px;
                        text-align: left;
                        border: 1px solid #000;
                    }
                    .cashflow-entry-table td {
                        padding: 8px;
                        border: 1px solid #000;
                        height: 36px;
                    }
                    .cashflow-entry-input {
                        width: 100%;
                        border: none;
                        padding: 5px;
                        font-size: 1rem;
                        background-color: transparent;
                        text-align: right;
                    }
                    .cashflow-entry-input:focus {
                        outline: 2px solid #1e3a8a;
                        background-color: #fff;
                    }
                </style>
                
                <div class="cashflow-dashboard">
                    <h1>Daily Top-Up MIS Report</h1>
                    
                    <!-- KPI Circles -->
                    <div class="cashflow-kpi-container">
                        <div class="cashflow-kpi-circle">
                            <div class="cashflow-kpi-title">Total Outstanding</div>
                            <div class="cashflow-kpi-value"> 12,45,800</div>
                        </div>
                        
                        <div class="cashflow-kpi-circle">
                            <div class="cashflow-kpi-title">Total Unbilled</div>
                            <div class="cashflow-kpi-value"> 8,92,450</div>
                        </div>
                        
                        <div class="cashflow-kpi-circle">
                            <div class="cashflow-kpi-title">Liabilities Payable</div>
                            <div class="cashflow-kpi-value"> 5,67,320</div>
                        </div>
                    </div>
                    
                    <!-- Main Content -->
                    <div class="cashflow-content-container">
                        <!-- Left Column (60%) -->
                        <div class="cashflow-left-column">
                            <!-- Cost Analysis Per Ton -->
                            <div class="table-container">
                                <div class="cashflow-section-title">Cost Analysis Per Ton</div>
                                <table class="cashflow-data-table">
                                    <thead>
                                        <tr>
                                            <th style="width: 60%;">Product</th>
                                            <th class="right-align">FTD</th>
                                            <th class="right-align">MTD</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Drilling & Blasting Cost</td>
                                            <td class="right-align"> 85.20</td>
                                            <td class="right-align"> 87.50</td>
                                        </tr>
                                        <tr>
                                            <td>Breaking & Loading Cost</td>
                                            <td class="right-align"> 42.50</td>
                                            <td class="right-align"> 43.80</td>
                                        </tr>
                                        <tr>
                                            <td>Transportation Cost</td>
                                            <td class="right-align"> 120.75</td>
                                            <td class="right-align"> 118.90</td>
                                        </tr>
                                        <tr>
                                            <td>Plant Production Cost</td>
                                            <td class="right-align"> 65.30</td>
                                            <td class="right-align"> 64.20</td>
                                        </tr>
                                        <tr>
                                            <td>Maintenance Cost</td>
                                            <td class="right-align"> 28.40</td>
                                            <td class="right-align"> 27.90</td>
                                        </tr>
                                        <tr class="bold-row">
                                            <td>Overall Cost</td>
                                            <td class="right-align"> 342.15</td>
                                            <td class="right-align"> 342.30</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            <!-- Sale per Ton -->
                            <div class="table-container">
                                <div class="cashflow-section-title">Sale per Ton</div>
                                <table class="cashflow-data-table">
                                    <thead>
                                        <tr>
                                            <th style="width: 60%;">Product</th>
                                            <th class="right-align">FTD</th>
                                            <th class="right-align">MTD</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>10mm</td>
                                            <td class="right-align"> 550.00</td>
                                            <td class="right-align"> 545.00</td>
                                        </tr>
                                        <tr>
                                            <td>20mm</td>
                                            <td class="right-align"> 520.00</td>
                                            <td class="right-align"> 525.00</td>
                                        </tr>
                                        <tr>
                                            <td>Railway Ballast</td>
                                            <td class="right-align"> 580.00</td>
                                            <td class="right-align"> 575.00</td>
                                        </tr>
                                        <tr>
                                            <td>VSI Sand</td>
                                            <td class="right-align"> 620.00</td>
                                            <td class="right-align"> 615.00</td>
                                        </tr>
                                        <tr>
                                            <td>Rivo Sand</td>
                                            <td class="right-align"> 640.00</td>
                                            <td class="right-align"> 635.00</td>
                                    </tr>
                                    <tr>
                                        <td>Slurry</td>
                                        <td class="right-align"> 380.00</td>
                                        <td class="right-align"> 385.00</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Right Column (40%) -->
                    <div class="cashflow-right-column">
                        <!-- Cash Flow -->
                        <div class="table-container">
                            <div class="cashflow-section-title">Cash Flow</div>
                            <table class="cashflow-data-table">
                                <thead>
                                    <tr>
                                        <th style="width: 60%;">Product</th>
                                        <th class="right-align">FTD</th>
                                        <th class="right-align">MTD</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Counter</td>
                                        <td class="right-align"> 1,85,000</td>
                                        <td class="right-align"> 12,45,800</td>
                                    </tr>
                                    <tr>
                                        <td>Credit</td>
                                        <td class="right-align"> 75,000</td>
                                        <td class="right-align"> 4,35,200</td>
                                    </tr>
                                    <tr class="bold-row">
                                        <td>Total</td>
                                        <td class="right-align"> 2,60,000</td>
                                        <td class="right-align"> 16,81,000</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- Today Expected Collection -->
                        <div class="table-container">
                            <div class="cashflow-section-title">Today Expected Collection</div>
                            <table class="cashflow-entry-table">
                                <thead>
                                    <tr>
                                        <th style="width: 70%;">Description</th>
                                        <th class="right-align">Amount ()</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Customer A - Invoice #1001</td>
                                        <td><input type="text" class="cashflow-entry-input" placeholder="0.00" value="45,000"></td>
                                    </tr>
                                    <tr>
                                        <td>Customer B - Invoice #1002</td>
                                        <td><input type="text" class="cashflow-entry-input" placeholder="0.00" value="32,500"></td>
                                    </tr>
                                    <tr>
                                        <td>Customer C - Invoice #1003</td>
                                        <td><input type="text" class="cashflow-entry-input" placeholder="0.00"></td>
                                    </tr>
                                    <tr>
                                        <td>Customer D - Invoice #1004</td>
                                        <td><input type="text" class="cashflow-entry-input" placeholder="0.00"></td>
                                    </tr>
                                    <tr>
                                        <td>Customer E - Invoice #1005</td>
                                        <td><input type="text" class="cashflow-entry-input" placeholder="0.00"></td>
                                    </tr>
                                    <tr class="bold-row">
                                        <td>Total :</td>
                                        <td class="right-align"> 77,500</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; color: #666; font-size: 0.9rem; margin-top: 30px; padding-top: 15px; border-top: 1px solid #eee;">
                    Daily Top-Up MIS Report - Data as of <span id="cashflow-current-date"></span>
                </div>
            </div>
        </div>
    </div>
</div>

    <!-- Modal for Plant Running Hours -->
    <div id="plant-hours-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-clock"></i> Plant Running Hours</h2>
                <button class="close-btn" onclick="closeModal('plant-hours-modal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="production-table-container">
                    <h3 style="color: var(--success); margin-bottom: 20px; text-align: center;">Plant Operation Hours Summary</h3>
                    
                    <table>
                        <thead>
                            <tr>
                                <th>-</th>
                                <th>FTD</th>
                                <th>Month</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Production Hours</td>
                                <td>10.7</td>
                                <td>111.1</td>
                            </tr>
                            <tr>
                                <td>Maintenance Hours</td>
                                <td>2.5</td>
                                <td>38.5</td>
                            </tr>
                            <tr>
                                <td>No Feed Hours</td>
                                <td>1.6</td>
                                <td>24.4</td>
                            </tr>
                            <tr>
                                <td>Breakdown Hours</td>
                                <td>0</td>
                                <td>3.8</td>
                            </tr>
                            <tr>
                                <td>Power Cut Hours</td>
                                <td>5.9</td>
                                <td>76.8</td>
                            </tr>
                            <tr>
                                <td>Boulder Jam Hours</td>
                                <td>0.8</td>
                                <td>14.1</td>
                            </tr>
                            <tr>
                                <td>Others Hours</td>
                                <td>2.5</td>
                                <td>67.3</td>
                            </tr>
                            <tr class="highlight">
                                <td><strong>Total Hours</strong></td>
                                <td><strong>24</strong></td>
                                <td><strong>336</strong></td>
                            </tr>
                            <tr>
                                <td><strong>Plant Efficiency</strong></td>
                                <td><strong style="color: var(--success);">44.6%</strong></td>
                                <td><strong style="color: var(--success);">33.1%</strong></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Map Modal with bigger view -->
    <div id="enhanced-map-modal" class="modal enhanced-map-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-map-marked-alt"></i> Live Operations Map - Detailed View</h2>
                <button class="close-btn" onclick="closeModal('enhanced-map-modal')">&times;</button>
                <div class="modal-controls">
                    <button class="modal-btn" onclick="toggleFullscreen('enhanced-map-modal')" title="Toggle Fullscreen">
                        <i class="fas fa-expand" id="fullscreen-map-icon"></i>
                    </button>
                </div>
            </div>
            <div class="modal-body">
                <div class="map-topup-container">
                    <div class="map-topup-content">
                        <img src="https://lloyds.in/wp-content/themes/lloyds-metals-new/img/lloyd-metals/Our%20Operation-04%20.svg" alt="Live Operations Map" class="map-topup-image">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Zoom Modal for Reports -->
    <div id="zoom-modal" class="modal">
        <div class="modal-content zoom-modal-content">
            <div class="modal-header">
                <h2 id="zoom-modal-title">Report</h2>
                <button class="close-btn" onclick="closeModal('zoom-modal')">&times;</button>
                <div class="modal-controls">
                    <button class="modal-btn" onclick="toggleFullscreen('zoom-modal')" title="Toggle Fullscreen">
                        <i class="fas fa-expand" id="fullscreen-icon"></i>
                    </button>
                </div>
            </div>
            <div class="zoom-modal-body">
                <div class="report-title" id="zoom-report-title">FTD/MTD Report</div>
                <img id="zoom-report-image" src="" alt="Report">
            </div>
        </div>
    </div>

    <script>
        function rand(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }
        
        // Fullscreen functionality for modals
        function toggleFullscreen(modalId) {
            const modal = document.getElementById(modalId);
            let icon;
            
            if (modalId === 'enhanced-map-modal') {
                icon = document.getElementById('fullscreen-map-icon');
            } else {
                icon = document.getElementById('fullscreen-icon');
            }
            
            if (!modal.classList.contains('fullscreen')) {
                modal.classList.add('fullscreen');
                if (icon) {
                    icon.classList.remove('fa-expand');
                    icon.classList.add('fa-compress');
                }
            } else {
                modal.classList.remove('fullscreen');
                if (icon) {
                    icon.classList.remove('fa-compress');
                    icon.classList.add('fa-expand');
                }
            }
        }
        
        // Fullscreen functionality for entire dashboard
        document.getElementById('fullscreen-btn').addEventListener('click', function() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.log(`Error attempting to enable fullscreen: ${err.message}`);
                });
                this.innerHTML = '<i class="fas fa-compress"></i>';
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                    this.innerHTML = '<i class="fas fa-expand"></i>';
                }
            }
        });
        
        // Update fullscreen button icon when exiting fullscreen
        document.addEventListener('fullscreenchange', function() {
            const btn = document.getElementById('fullscreen-btn');
            if (!document.fullscreenElement) {
                btn.innerHTML = '<i class="fas fa-expand"></i>';
            }
        });
        
        // Close fullscreen with ESC key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                const modals = document.getElementsByClassName('modal');
                for (let modal of modals) {
                    if (modal.classList.contains('fullscreen')) {
                        modal.classList.remove('fullscreen');
                        const icons = modal.querySelectorAll('.fa-compress');
                        icons.forEach(icon => {
                            icon.classList.remove('fa-compress');
                            icon.classList.add('fa-expand');
                        });
                    }
                }
                
                if (document.fullscreenElement) {
                    document.exitFullscreen();
                    document.getElementById('fullscreen-btn').innerHTML = '<i class="fas fa-expand"></i>';
                }
            }
        });
        
        function update() {
            // Machines
            const compValue = 12;
            document.getElementById('comp').textContent = compValue;
            
            // Update holes and feets values
            const holes = 558 + rand(-20, 20);
            const feets = 3120 + rand(-100, 100);
            document.querySelector('.compressor-details .holes').textContent = `${holes} holes`;
            document.querySelector('.compressor-details .feets').textContent = `${feets.toLocaleString()} feets`;
            
            document.getElementById('tipper').textContent = `${8+rand(0,4)}/12`;
            
            // Excavators and Loaders
            const excRunning = 4 + rand(0, 1);
            const excTotal = 5;
            document.getElementById('exc').textContent = `${excRunning}/${excTotal}`;
            
            const loadRunning = 2;
            const loadTotal = 2;
            document.getElementById('load').textContent = `${loadRunning}/${loadTotal}`;

            // Boulder Operations
            const trips = 30 + rand(0, 30);
            document.getElementById('trips').textContent = trips;
            
            const tonnage = 950 + rand(0, 150);
            document.getElementById('boulder-today').textContent = tonnage;
            
            const feeder = 1100 + rand(0, 150);
            document.getElementById('boulder-feeder').textContent = feeder.toLocaleString();
            document.getElementById('feeder-count').textContent = `${Math.floor(feeder/30)} Trips`;

            // Dispatch
            document.getElementById('d10').textContent = 220 + rand(0,50);
            document.getElementById('d20').textContent = 260 + rand(0,60);
            document.getElementById('dsand').textContent = 80 + rand(0,40);
            document.getElementById('dmsand').textContent = 100 + rand(0,50);
            
            // Dispatch Vehicles
            document.getElementById('dispatch-vehicles').textContent = 12 + rand(0, 8);
            
            // Update Plant Running Hours
            updatePlantHours();
            
            // Update date
            updateDate();
            
            // Update cashflow date
            updateCashflowDate();
        }
        
        // Update Plant Running Hours
        function updatePlantHours() {
            const baseHours = 10.7;
            const randomChange = (rand(-5, 5) / 10);
            const newHours = Math.max(0, baseHours + randomChange);
            
            document.getElementById('plant-hours').textContent = newHours.toFixed(1);
            
            const statusElement = document.getElementById('plant-status');
            
            if (newHours >= 10) {
                statusElement.textContent = 'Live';
                statusElement.style.background = 'rgba(34, 197, 94, 0.3)';
            } else if (newHours >= 5) {
                statusElement.textContent = 'Slow';
                statusElement.style.background = 'rgba(245, 158, 11, 0.3)';
            } else {
                statusElement.textContent = 'Idle';
                statusElement.style.background = 'rgba(239, 68, 68, 0.3)';
            }
        }
        
        // Update current date
        function updateDate() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            };
            document.getElementById('current-date').textContent = now.toLocaleDateString('en-US', options);
        }
        
        // Update cashflow date
        function updateCashflowDate() {
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            const dateElement = document.getElementById('cashflow-current-date');
            if (dateElement) {
                dateElement.textContent = now.toLocaleDateString('en-US', options);
            }
        }
        
        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
            if (modalId === 'tipper-modal') {
                initTipperDashboard();
            }
            if (modalId === 'cashflow-modal') {
                updateCashflowDate();
                calculateCashflowTotal();
            }
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('fullscreen');
                const icons = modal.querySelectorAll('.fa-compress');
                icons.forEach(icon => {
                    icon.classList.remove('fa-compress');
                    icon.classList.add('fa-expand');
                });
            }
        }
        
        // Open enhanced map modal
        function openEnhancedMapModal() {
            openModal('enhanced-map-modal');
        }
        
        // Open zoom modal for reports
        function openZoomModal(title, imageSrc) {
            document.getElementById('zoom-modal-title').textContent = title;
            document.getElementById('zoom-report-title').textContent = title;
            document.getElementById('zoom-report-image').src = imageSrc;
            document.getElementById('zoom-report-image').alt = title;
            openModal('zoom-modal');
        }
        
        // Close modal when clicking outside the modal content
        window.onclick = function(event) {
            const modals = document.getElementsByClassName('modal');
            for (let i = 0; i < modals.length; i++) {
                if (event.target == modals[i]) {
                    closeModal(modals[i].id);
                }
            }
        }
        
        // Tipper Dashboard Functions
        const tippers = [
            { id: "AP39UQ0095", dayAvailable: true, nightAvailable: true, ftdTrips: 18, totalTrips: 142, mtdDayAvailable: 14, mtdNightAvailable: 12, dayAbsentRemark: "", nightAbsentRemark: "" },
            { id: "AP39UQ0097", dayAvailable: false, nightAvailable: false, ftdTrips: 22, totalTrips: 178, mtdDayAvailable: 16, mtdNightAvailable: 14, dayAbsentRemark: "Breakdown", nightAbsentRemark: "Breakdown" },
            { id: "AP39UW9880", dayAvailable: true, nightAvailable: true, ftdTrips: 15, totalTrips: 115, mtdDayAvailable: 11, mtdNightAvailable: 9, dayAbsentRemark: "", nightAbsentRemark: "" },
            { id: "AP39UW9881", dayAvailable: true, nightAvailable: true, ftdTrips: 25, totalTrips: 201, mtdDayAvailable: 18, mtdNightAvailable: 16, dayAbsentRemark: "", nightAbsentRemark: "" },
            { id: "AP39UY4651", dayAvailable: false, nightAvailable: false, ftdTrips: 12, totalTrips: 98, mtdDayAvailable: 10, mtdNightAvailable: 8, dayAbsentRemark: "Maintenance", nightAbsentRemark: "Maintenance" },
            { id: "AP39UY4652", dayAvailable: true, nightAvailable: false, ftdTrips: 20, totalTrips: 165, mtdDayAvailable: 14, mtdNightAvailable: 12, dayAbsentRemark: "", nightAbsentRemark: "Driver Leave" },
            { id: "AP39WC0926", dayAvailable: true, nightAvailable: true, ftdTrips: 23, totalTrips: 189, mtdDayAvailable: 17, mtdNightAvailable: 15, dayAbsentRemark: "", nightAbsentRemark: "" },
            { id: "AP39WC0927", dayAvailable: false, nightAvailable: false, ftdTrips: 19, totalTrips: 152, mtdDayAvailable: 15, mtdNightAvailable: 13, dayAbsentRemark: "Repair", nightAbsentRemark: "Repair" },
            { id: "AP39WC0928", dayAvailable: true, nightAvailable: true, ftdTrips: 21, totalTrips: 172, mtdDayAvailable: 13, mtdNightAvailable: 11, dayAbsentRemark: "", nightAbsentRemark: "" },
            { id: "AP39WF2052", dayAvailable: true, nightAvailable: true, ftdTrips: 16, totalTrips: 134, mtdDayAvailable: 12, mtdNightAvailable: 10, dayAbsentRemark: "", nightAbsentRemark: "" },
            { id: "AP39WF2057", dayAvailable: false, nightAvailable: false, ftdTrips: 24, totalTrips: 196, mtdDayAvailable: 17, mtdNightAvailable: 15, dayAbsentRemark: "Servicing", nightAbsentRemark: "Servicing" },
            { id: "AP39WF2058", dayAvailable: true, nightAvailable: false, ftdTrips: 14, totalTrips: 128, mtdDayAvailable: 11, mtdNightAvailable: 9, dayAbsentRemark: "", nightAbsentRemark: "Tire Change" }
        ];
        
        function initTipperDashboard() {
            const tableBody = document.getElementById('tableBody');
            const totalTippersElement = document.getElementById('total-tippers');
            const dayAvailableElement = document.getElementById('day-available');
            const nightAvailableElement = document.getElementById('night-available');
            const unavailableDayNightElement = document.getElementById('unavailable-day-night');
            
            // Update stats
            function updateStats() {
                let dayAvailableCount = 0;
                let nightAvailableCount = 0;
                let unavailableDayNightCount = 0;
                
                tippers.forEach(tipper => {
                    if (tipper.dayAvailable) dayAvailableCount++;
                    if (tipper.nightAvailable) nightAvailableCount++;
                    if (!tipper.dayAvailable && !tipper.nightAvailable) unavailableDayNightCount++;
                });
                
                if (totalTippersElement) totalTippersElement.textContent = tippers.length;
                if (dayAvailableElement) dayAvailableElement.textContent = dayAvailableCount;
                if (nightAvailableElement) nightAvailableElement.textContent = nightAvailableCount;
                if (unavailableDayNightElement) unavailableDayNightElement.textContent = unavailableDayNightCount;
            }
            
            // Render table
            function renderTable() {
                if (!tableBody) return;
                
                tableBody.innerHTML = '';
                
                tippers.forEach(tipper => {
                    const row = document.createElement('tr');
                    
                    row.innerHTML = `
                        <td style="padding: 12px 10px; font-weight: 600;">${tipper.id}</td>
                        <td style="padding: 12px 10px;">
                            <div style="display: flex; gap: 5px; align-items: center;">
                                <div style="width: 20px; height: 20px; border-radius: 50%; background-color: ${tipper.dayAvailable ? '#2ecc71' : '#e74c3c'}; color: white; font-size: 10px; font-weight: bold; display: flex; align-items: center; justify-content: center;" title="Day: ${tipper.dayAvailable ? 'Available' : 'Unavailable'}">D</div>
                                <span> / </span>
                                <div style="width: 20px; height: 20px; border-radius: 50%; background-color: ${tipper.nightAvailable ? '#2ecc71' : '#e74c3c'}; color: white; font-size: 10px; font-weight: bold; display: flex; align-items: center; justify-content: center;" title="Night: ${tipper.nightAvailable ? 'Available' : 'Unavailable'}">N</div>
                            </div>
                        </td>
                        <td style="padding: 12px 10px; font-weight: 600; text-align: center;">${tipper.mtdDayAvailable} / ${tipper.mtdNightAvailable}</td>
                        <td style="padding: 12px 10px; max-width: 150px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                            ${tipper.dayAbsentRemark || tipper.nightAbsentRemark ? 
                                `<div style="position: relative; cursor: pointer;" title="Day: ${tipper.dayAbsentRemark || 'None'}, Night: ${tipper.nightAbsentRemark || 'None'}">
                                    ${tipper.dayAbsentRemark ? `<span style="display: inline-block; padding: 2px 6px; border-radius: 4px; font-size: 12px; background-color: #fff3cd; color: #856404; border: 1px solid #ffeaa7; margin: 2px;">D: ${tipper.dayAbsentRemark}</span>` : ''}
                                    ${tipper.nightAbsentRemark ? `<span style="display: inline-block; padding: 2px 6px; border-radius: 4px; font-size: 12px; background-color: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; margin: 2px;">N: ${tipper.nightAbsentRemark}</span>` : ''}
                                </div>` : 
                                '<span style="color: #7f8c8d;">-</span>'}
                        </td>
                        <td style="padding: 12px 10px; font-weight: 600; text-align: center;">${tipper.ftdTrips}</td>
                        <td style="padding: 12px 10px; font-weight: 600; text-align: center;">${tipper.totalTrips}</td>
                    `;
                    
                    tableBody.appendChild(row);
                });
            }
            
            // Initialize
            updateStats();
            renderTable();
        }
        
        // Cashflow Functions
        function calculateCashflowTotal() {
            const inputs = document.querySelectorAll('.cashflow-entry-input');
            let total = 0;
            
            inputs.forEach(input => {
                let value = input.value.replace(/[^0-9.]/g, '');
                if (value && !isNaN(value)) {
                    total += parseFloat(value);
                }
            });
            
            // Format total with Indian numbering system
            const formattedTotal = new Intl.NumberFormat('en-IN').format(total);
            const totalCell = document.querySelector('.cashflow-entry-table .bold-row .right-align');
            if (totalCell) {
                totalCell.textContent = ` ${formattedTotal}`;
            }
        }
        
        // Initialize on load
        document.addEventListener('DOMContentLoaded', function() {
            updateDate();
            updatePlantHours();
            updateCashflowDate();
            
            // Add equipment status styles
            const style = document.createElement('style');
            style.textContent = `
                .status {
                    padding: 6px 12px;
                    border-radius: 4px;
                    font-size: 0.85rem;
                    font-weight: 600;
                    display: inline-block;
                }
                .status.running {
                    background-color: rgba(39, 174, 96, 0.15);
                    color: #27ae60;
                    border: 1px solid rgba(39, 174, 96, 0.3);
                }
                .status.maintenance {
                    background-color: rgba(231, 76, 60, 0.15);
                    color: #e74c3c;
                    border: 1px solid rgba(231, 76, 60, 0.3);
                }
                .purpose-tag {
                    display: inline-block;
                    width: 28px;
                    height: 28px;
                    border-radius: 50%;
                    color: white;
                    font-weight: bold;
                    text-align: center;
                    line-height: 28px;
                    font-size: 0.9rem;
                }
                .purpose-tag.loading {
                    background-color: #3498db;
                }
                .purpose-tag.development {
                    background-color: #9b59b6;
                }
                .purpose-tag.breaking {
                    background-color: #e67e22;
                }
            `;
            document.head.appendChild(style);
            
            // Initialize cashflow event listeners
            const cashflowInputs = document.querySelectorAll('.cashflow-entry-input');
            cashflowInputs.forEach(input => {
                input.addEventListener('input', calculateCashflowTotal);
                input.addEventListener('blur', function() {
                    let value = this.value.replace(/[^0-9.]/g, '');
                    if (value && !isNaN(value)) {
                        // Format with Indian numbering system
                        const formattedValue = new Intl.NumberFormat('en-IN').format(parseFloat(value));
                        this.value = formattedValue;
                    }
                });
            });
            
            setInterval(update, 5000);
            update();
        });
    </script>
</body>
</html>
